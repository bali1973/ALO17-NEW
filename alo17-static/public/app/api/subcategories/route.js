(()=>{var e={};e.id=248,e.ids=[248],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77373:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>k,routeModule:()=>l,serverHooks:()=>x,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>g});var s={};t.r(s),t.d(s,{POST:()=>c});var a=t(96559),o=t(48088),i=t(37719),n=t(32190),u=t(29021),p=t(33873);async function c(e){try{let{name:r,categoryId:t,icon:s}=await e.json();if(!r||!t)return n.NextResponse.json({error:"Alt kategori adı ve kategori ID gerekli"},{status:400});let a=(0,p.join)(process.cwd(),"public","categories.json"),o=(0,u.readFileSync)(a,"utf8"),i=JSON.parse(o),c=i.findIndex(e=>e.id===t);if(-1===c)return n.NextResponse.json({error:"Kategori bulunamadı"},{status:404});let l=`${t}-${i[c].subCategories.length+1}`,d=r.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),g={id:l,name:r,slug:d,icon:s||"emoji:\uD83D\uDCE6"};return i[c].subCategories.push(g),(0,u.writeFileSync)(a,JSON.stringify(i,null,2)),n.NextResponse.json({success:!0,subCategory:g})}catch(e){return console.error("Alt kategori ekleme hatası:",e),n.NextResponse.json({error:"Alt kategori eklenemedi"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/subcategories/route",pathname:"/api/subcategories",filename:"route",bundlePath:"app/api/subcategories/route"},resolvedPagePath:"C:\\Users\\bali\\Desktop\\alo17_backup_2025-06-17_16-49-55\\src\\app\\api\\subcategories\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:g,serverHooks:x}=l;function k(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:g})}},78335:()=>{},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,580],()=>t(77373));module.exports=s})();