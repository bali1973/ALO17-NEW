(()=>{var e={};e.id=2821,e.ids=[2821],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9364:(e,r,t)=>{Promise.resolve().then(t.bind(t,19545))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19545:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(60687),s=t(43210),l=t(17552),n=t(16189),o=t(30474);let i=s.forwardRef(function({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))});function d(){let{session:e,isLoading:r}=(0,l.A)(),t=(0,n.useRouter)(),[d,c]=(0,s.useState)({name:"",email:"",phone:"",location:"",birthdate:""}),[u,m]=(0,s.useState)(""),[p,x]=(0,s.useState)(null),[h,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)({type:"",text:""}),[y,j]=(0,s.useState)(!1),[v,k]=(0,s.useState)({current:"",new:"",confirm:""}),[N,w]=(0,s.useState)(""),[_,C]=(0,s.useState)(!1),[P,z]=(0,s.useState)(!1),[D,S]=(0,s.useState)(""),[q,E]=(0,s.useState)({email:!0,sms:!1,push:!1}),A=e=>{let{name:r,checked:t}=e.target;E(e=>({...e,[r]:t}))},T=e=>{let{name:r,value:t}=e.target;c(e=>({...e,[r]:t}))},U=e=>{let{name:r,value:t}=e.target;k(e=>({...e,[r]:t}))},M=async e=>{if(e.preventDefault(),w(""),v.new!==v.confirm)return void w("Yeni şifreler eşleşmiyor.");setTimeout(()=>{w("Şifre başarıyla değiştirildi!"),k({current:"",new:"",confirm:""})},1e3)},F=async e=>{e.preventDefault(),g(!0),f({type:"",text:""});try{let e=new FormData;e.append("name",d.name),e.append("email",d.email),e.append("phone",d.phone),e.append("location",d.location),e.append("birthdate",d.birthdate),p&&e.append("avatar",p);let r=await fetch("/api/profile/update",{method:"POST",body:e}),t=await r.json();r.ok?(f({type:"success",text:"Profil başarıyla g\xfcncellendi!"}),window.location.reload()):f({type:"error",text:t.error||"Profil g\xfcncellenirken hata oluştu."})}catch(e){f({type:"error",text:"Bir hata oluştu. L\xfctfen tekrar deneyin."})}finally{g(!1)}};return r?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Y\xfckleniyor..."}):e?(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Profil D\xfczenle"}),b.text&&(0,a.jsx)("div",{className:`mb-4 p-4 rounded-lg ${"success"===b.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:b.text}),(0,a.jsxs)("form",{onSubmit:F,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-200",children:(0,a.jsx)(o.default,{src:u,alt:"Profil fotoğrafı",width:128,height:128,className:"w-full h-full object-cover"})}),(0,a.jsxs)("label",{className:"absolute bottom-0 right-0 p-2 bg-alo-orange text-white rounded-full cursor-pointer hover:bg-orange-600 transition-colors",children:[(0,a.jsx)(i,{className:"w-4 h-4"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];if(r){x(r);let e=new FileReader;e.onload=e=>{m(e.target?.result)},e.readAsDataURL(r)}},className:"hidden"})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Profil fotoğrafınızı değiştirmek i\xe7in tıklayın"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:d.name,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"Adınız Soyadınız",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:d.email,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"ornek@email.com",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>{z(!0),setTimeout(()=>{alert("Doğrulama kodu e-posta adresinize g\xf6nderildi (mock).")},500)},className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",disabled:P,children:"Doğrulama Kodu G\xf6nder"})]}),P&&(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Kod",value:D,onChange:e=>S(e.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{type:"button",onClick:()=>{"123456"===D?(alert("E-posta doğrulandı! (mock)"),z(!1),S("")):alert("Kod yanlış! (mock)")},className:"px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Doğrula"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),(0,a.jsx)("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"+90 555 123 4567"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Konum"}),(0,a.jsx)("input",{type:"text",id:"location",name:"location",value:d.location,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"İl, İl\xe7e"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"birthdate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Doğum Tarihi"}),(0,a.jsx)("input",{type:"date",id:"birthdate",name:"birthdate",value:d.birthdate,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4 pt-6",children:[(0,a.jsx)("button",{type:"submit",disabled:h,className:"flex-1 bg-alo-orange text-white py-3 px-6 rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"G\xfcncelleniyor...":"Profili G\xfcncelle"}),(0,a.jsx)("button",{type:"button",onClick:()=>t.push("/profil"),className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:"İptal"})]})]}),(0,a.jsxs)("div",{className:"mt-10",children:[(0,a.jsx)("button",{type:"button",onClick:()=>j(e=>!e),className:"text-alo-orange font-medium hover:underline",children:y?"Şifre Değiştirmeyi Kapat":"Şifre Değiştir"}),y&&(0,a.jsxs)("form",{onSubmit:M,className:"mt-4 bg-gray-50 rounded-lg p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mevcut Şifre"}),(0,a.jsx)("input",{type:"password",name:"current",value:v.current,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-alo-orange",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni Şifre"}),(0,a.jsx)("input",{type:"password",name:"new",value:v.new,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-alo-orange",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni Şifre (Tekrar)"}),(0,a.jsx)("input",{type:"password",name:"confirm",value:v.confirm,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-alo-orange",required:!0})]}),N&&(0,a.jsx)("div",{className:"text-sm text-green-600",children:N}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-alo-orange text-white py-2 rounded-lg hover:bg-orange-600",children:"Şifreyi Değiştir"})]})]}),(0,a.jsxs)("div",{className:"mt-10 bg-gray-50 rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Bildirim Tercihleri"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",name:"email",checked:q.email,onChange:A,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-gray-700",children:"E-posta ile bildirim almak istiyorum"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",name:"sms",checked:q.sms,onChange:A,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-gray-700",children:"SMS ile bildirim almak istiyorum"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",name:"push",checked:q.push,onChange:A,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-gray-700",children:"Push (anlık) bildirim almak istiyorum"})]})]})]}),(0,a.jsx)("div",{className:"mt-10",children:(0,a.jsx)("button",{type:"button",onClick:()=>C(!0),className:"w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 font-semibold",children:"Hesabımı Kalıcı Olarak Sil"})}),_&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4 text-red-600",children:"Hesabınızı silmek \xfczeresiniz!"}),(0,a.jsx)("p",{className:"mb-6",children:"Bu işlem geri alınamaz. T\xfcm verileriniz kalıcı olarak silinecek. Devam etmek istiyor musunuz?"}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>C(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Vazge\xe7"}),(0,a.jsx)("button",{onClick:()=>{C(!1),alert("Hesabınız kalıcı olarak silindi (mock).")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Evet, Hesabımı Sil"})]})]})})]})})}):(t.push("/giris"),null)}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72980:(e,r,t)=>{Promise.resolve().then(t.bind(t,97441))},85252:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=t(65239),s=t(48088),l=t(88170),n=t.n(l),o=t(30893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(r,i);let d={children:["",{children:["profil",{children:["duzenle",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,97441)),"C:\\Users\\bali\\Desktop\\alo17_backup_2025-06-17_16-49-55\\src\\app\\profil\\duzenle\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,68580)),"C:\\Users\\bali\\Desktop\\alo17_backup_2025-06-17_16-49-55\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,54431)),"C:\\Users\\bali\\Desktop\\alo17_backup_2025-06-17_16-49-55\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,67393)),"C:\\Users\\bali\\Desktop\\alo17_backup_2025-06-17_16-49-55\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"C:\\Users\\bali\\Desktop\\alo17_backup_2025-06-17_16-49-55\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\bali\\Desktop\\alo17_backup_2025-06-17_16-49-55\\src\\app\\profil\\duzenle\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/profil/duzenle/page",pathname:"/profil/duzenle",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},97441:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\bali\\\\Desktop\\\\alo17_backup_2025-06-17_16-49-55\\\\src\\\\app\\\\profil\\\\duzenle\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\bali\\Desktop\\alo17_backup_2025-06-17_16-49-55\\src\\app\\profil\\duzenle\\page.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[4447,3154,474,150],()=>t(85252));module.exports=a})();