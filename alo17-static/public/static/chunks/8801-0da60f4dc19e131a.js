"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8801],{4516:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(90602).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4702:(e,t,s)=>{s.d(t,{d:()=>i,t:()=>n});var r=s(95155),a=s(12115);let l=(0,a.createContext)(void 0);function i(){let e=(0,a.useContext)(l);if(!e)throw Error("useToast must be used within ToastProvider");return e}function n(e){let{children:t}=e,[s,i]=(0,a.useState)([]);return(0,r.jsxs)(l.Provider,{value:{showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=Date.now();i(r=>[...r,{id:s,message:e,type:t}]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==s))},3500)}},children:[t,(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:s.map(e=>(0,r.jsx)("div",{className:"px-4 py-2 rounded shadow text-white transition-all\n              ".concat("success"===e.type?"bg-green-600":"error"===e.type?"bg-red-600":"bg-blue-600"),children:e.message},e.id))})]})}},14186:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(90602).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},43332:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(90602).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},51976:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(90602).A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},59434:(e,t,s)=>{s.d(t,{cn:()=>l,sT:()=>i});var r=s(52596),a=s(39688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}async function i(){return{"30days":{name:"30 G\xfcn",price:99,days:30},"90days":{name:"90 G\xfcn",price:249,days:90},"365days":{name:"365 G\xfcn",price:799,days:365}}}},68801:(e,t,s)=>{s.d(t,{l:()=>v,Y:()=>N});var r=s(95155),a=s(6874),l=s.n(a),i=s(12115),n=s(66766),c=s(59434);function d(e){let{size:t="md",className:s,text:a}=e;return(0,r.jsxs)("div",{className:(0,c.cn)("flex flex-col items-center justify-center",s),children:[(0,r.jsx)("div",{className:(0,c.cn)("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t])}),a&&(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600 animate-pulse",children:a})]})}let o=e=>{if(!e||"string"!=typeof e)return!1;try{if(!e.startsWith("http://")&&!e.startsWith("https://"))return e.startsWith("/")||e.startsWith("./")||e.startsWith("../");return new URL(e),!0}catch(e){return!1}};function u(e){let{src:t,alt:s,width:a,height:l,className:u,priority:m=!1,quality:h=75,placeholder:x="empty",fallbackSrc:g="/images/placeholder.jpg",onLoad:f,onError:p,...y}=e,b=e=>{if(!e||"string"!=typeof e)return g;let t=e.trim();if(""===t)return g;if(t.startsWith("[")&&t.endsWith("]"))try{let e=JSON.parse(t);if(Array.isArray(e)&&e.length>0){let t=e[0];return o(t)?t:g}}catch(e){return console.error("Image URL JSON parse hatası:",e),g}return o(t)?t:g},[w,j]=(0,i.useState)(b(t)),[v,N]=(0,i.useState)(!0),[k,A]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{j(b(t)),N(!0),A(!1)},[t,g]),k)?(0,r.jsx)("div",{className:(0,c.cn)("flex items-center justify-center bg-gray-100 text-gray-500",u),style:{width:a,height:l},children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCF7"}),(0,r.jsx)("div",{className:"text-sm",children:"Resim y\xfcklenemedi"})]})}):(0,r.jsxs)("div",{className:(0,c.cn)("relative overflow-hidden",u),children:[v&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:(0,r.jsx)(d,{size:"sm",text:"Y\xfckleniyor..."})}),(0,r.jsx)(n.default,{src:w,alt:s,width:a,height:l,className:(0,c.cn)("transition-opacity duration-300",v?"opacity-0":"opacity-100"),priority:m,quality:h,placeholder:x,onLoad:()=>{N(!1),null==f||f()},onError:()=>{w!==g?(j(g),A(!1)):(A(!0),N(!1)),null==p||p()},sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...y})]})}var m=s(38564),h=s(71539),x=s(33109),g=s(51976),f=s(4516),p=s(14186),y=s(43332),b=s(92657),w=s(4702);function j(){return JSON.parse(localStorage.getItem("favorites")||"[]")}function v(e){let{listing:t}=e,[s,a]=(0,i.useState)(!1),[n,d]=(0,i.useState)(!1),[o,v]=(0,i.useState)(!1),{showToast:N}=(0,w.d)();(0,i.useEffect)(()=>{a(j().includes(t.id)),v(JSON.parse(localStorage.getItem("frequentlyUsed")||"[]").includes(t.id))},[t.id]);let k=e=>{var s;e.preventDefault();let r=j();r.includes(t.id)?(r=r.filter(e=>e!==t.id),a(!1),N("Favorilerden \xe7ıkarıldı","info")):(r.push(t.id),a(!0),N("Favorilere eklendi","success")),s=r,localStorage.setItem("favorites",JSON.stringify(s))},A=e=>{e.preventDefault();let s=JSON.parse(localStorage.getItem("frequentlyUsed")||"[]");s.includes(t.id)?(s=s.filter(e=>e!==t.id),v(!1),N("Sık kullanılanlardan \xe7ıkarıldı","info")):(s.unshift(t.id),s.length>20&&(s=s.slice(0,20)),v(!0),N("Sık kullanılanlara eklendi","success")),localStorage.setItem("frequentlyUsed",JSON.stringify(s))};return(0,r.jsx)("div",{className:(0,c.cn)("group bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-blue-200 focus-within:ring-2 focus-within:ring-blue-300",t.isPremium&&"ring-2 ring-yellow-200"),tabIndex:0,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:(0,r.jsxs)(l(),{href:"/ilan/".concat(t.id),tabIndex:-1,className:"block focus:outline-none",children:[(0,r.jsxs)("div",{className:"relative aspect-[4/3] bg-gray-50",children:[(0,r.jsx)(u,{src:(e=>{if(!e||"string"!=typeof e)return"/images/placeholder.jpg";let t=e.trim();if(""===t)return"/images/placeholder.jpg";if(t.startsWith("[")&&t.endsWith("]"))try{let e=JSON.parse(t);return Array.isArray(e)&&e.length>0?e[0]:"/images/placeholder.jpg"}catch(e){return"/images/placeholder.jpg"}return t})(t.imageUrl),alt:t.title,width:400,height:300,className:"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105",fallbackSrc:"/images/placeholder.jpg"}),(()=>{let e=[];return t.isPremium&&e.push((0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800 shadow-sm mr-1",children:[(0,r.jsx)(m.A,{className:"w-3 h-3 mr-1"})," Premium"]},"premium")),(t.isUrgent||t.premiumFeatures&&t.premiumFeatures.includes("urgent"))&&e.push((0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700 shadow-sm mr-1",children:[(0,r.jsx)(h.A,{className:"w-3 h-3 mr-1"})," Acil"]},"urgent")),(t.isFeatured||t.premiumFeatures&&t.premiumFeatures.includes("featured"))&&e.push((0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 shadow-sm mr-1",children:[(0,r.jsx)(x.A,{className:"w-3 h-3 mr-1"})," \xd6ne \xc7ıkan"]},"featured")),t.premiumFeatures&&t.premiumFeatures.includes("highlighted")&&e.push((0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 shadow-sm mr-1",children:[(0,r.jsx)(m.A,{className:"w-3 h-3 mr-1"})," Vurgulu"]},"highlighted")),e.length>0?(0,r.jsx)("div",{className:"absolute top-3 left-3 flex flex-wrap z-10",children:e}):null})(),(0,r.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-2 z-10",children:[(0,r.jsx)("button",{"aria-label":s?"Favorilerden \xe7ıkar":"Favorilere ekle",onClick:k,className:(0,c.cn)("p-2 rounded-full shadow-md border border-white/80 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400",s?"bg-red-500 text-white scale-110 animate-pulse":"bg-white/80 text-gray-600 hover:bg-red-500 hover:text-white"),tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&k(e)},children:(0,r.jsx)(g.A,{className:(0,c.cn)("w-5 h-5",s&&"fill-current animate-heartbeat")})}),(0,r.jsx)("button",{"aria-label":o?"Sık kullanılanlardan \xe7ıkar":"Sık kullanılanlara ekle",onClick:A,className:(0,c.cn)("p-2 rounded-full shadow-md border border-white/80 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-400",o?"bg-yellow-400 text-white scale-110 animate-pulse":"bg-white/80 text-yellow-500 hover:bg-yellow-400 hover:text-white"),tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&A(e)},children:(0,r.jsx)(m.A,{className:(0,c.cn)("w-5 h-5",o&&"fill-current animate-heartbeat")})})]}),n&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center transition-all",children:(0,r.jsx)("span",{className:"bg-white/90 text-gray-800 px-4 py-2 rounded-lg font-medium shadow",children:"İncele"})})]}),(0,r.jsxs)("div",{className:"p-4 flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(f.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:t.location})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(p.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:(e=>{let t,s=new Date;if(e instanceof Date)t=e;else{if("string"!=typeof e)return"Bilinmeyen tarih";t=new Date(e)}if(isNaN(t.getTime()))return"Bilinmeyen tarih";let r=Math.floor((s.getTime()-t.getTime())/36e5);return r<1?"Az \xf6nce":r<24?"".concat(r," saat \xf6nce"):r<48?"D\xfcn":"".concat(Math.floor(r/24)," g\xfcn \xf6nce")})(t.createdAt)})]})]}),(0,r.jsx)("h3",{className:"font-bold text-lg md:text-xl text-gray-900 mb-1 line-clamp-2 group-hover:text-blue-600 transition-colors",children:t.title}),(0,r.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-1",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)(y.A,{className:"w-4 h-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:t.condition})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,r.jsx)("span",{className:"font-extrabold text-xl md:text-2xl text-blue-600",children:(e=>{let t="string"==typeof e?parseFloat(e.replace(/[^\d.-]/g,"")):e;return new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(t)})(t.price)}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,r.jsx)(b.A,{className:"w-4 h-4 mr-1"}),t.views||0]})]})]})]})})}function N(){return(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100 animate-pulse overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative aspect-[4/3] bg-gray-200",children:[(0,r.jsx)("div",{className:"absolute top-3 left-3 w-20 h-6 bg-gray-300 rounded-full"}),(0,r.jsx)("div",{className:"absolute top-3 right-3 w-8 h-8 bg-gray-300 rounded-full"})]}),(0,r.jsxs)("div",{className:"p-4 flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("div",{className:"w-20 h-4 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"w-16 h-4 bg-gray-200 rounded"})]}),(0,r.jsx)("div",{className:"w-3/4 h-6 bg-gray-200 rounded mb-1"}),(0,r.jsx)("div",{className:"w-1/2 h-4 bg-gray-200 rounded mb-1"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("div",{className:"w-8 h-4 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"w-12 h-4 bg-gray-200 rounded"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,r.jsx)("div",{className:"w-24 h-6 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"w-10 h-4 bg-gray-200 rounded"})]})]})]})}},71539:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(90602).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},92657:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(90602).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}}]);