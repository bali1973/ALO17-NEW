(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8247],{22413:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>o});var a=l(95155),s=l(6874),r=l.n(s),i=l(12115),n=l(22732);function o(){let[e,t]=(0,i.useState)(null),{categories:l,loading:s,error:o}=(0,n.j)(),d=l.find(e=>"saglik-guzellik"===e.slug);return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Sağlık ve G\xfczellik"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Sağlık ve g\xfczellik \xfcr\xfcnleri"})]}),(0,a.jsx)("div",{className:"flex flex-col md:flex-row gap-8",children:(0,a.jsx)("div",{className:"w-full md:w-64 flex-shrink-0",children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Kategoriler"}),s?(0,a.jsx)("div",{children:"Kategoriler y\xfckleniyor..."}):o?(0,a.jsx)("div",{className:"text-red-600",children:o}):d&&d.subCategories&&d.subCategories.length>0?(0,a.jsx)("div",{className:"space-y-2",children:d.subCategories.map(l=>(0,a.jsx)(r(),{href:"/kategori/saglik-guzellik/".concat(l.slug),className:"block px-3 py-2 rounded-md hover:bg-gray-100 ".concat(e===l.slug?"bg-gray-100 font-medium":""),onClick:()=>t(l.slug),children:l.name},l.id))}):(0,a.jsx)("div",{children:"Alt kategori bulunamadı."})]})})})})]})}},22732:(e,t,l)=>{"use strict";l.d(t,{C:()=>r,j:()=>i});var a=l(12115);let s="categories-updated",r=()=>{localStorage.setItem("categories-last-updated",Date.now().toString()),window.dispatchEvent(new CustomEvent(s))};function i(){let[e,t]=(0,a.useState)([]),[l,r]=(0,a.useState)(!0),[i,n]=(0,a.useState)(null),[o,d]=(0,a.useState)(0),c=async()=>{try{r(!0),n(null);let e=await fetch("/api/categories");if(e.ok){let l=await e.json();t(l),r(!1);return}let l=await fetch("/categories.json");if(l.ok){let e=await l.json();t(e),r(!1);return}throw Error("Kategoriler y\xfcklenemedi")}catch(e){console.error("Kategoriler y\xfcklenirken hata:",e),n("Kategoriler y\xfcklenemedi"),r(!1)}};return(0,a.useEffect)(()=>{c();let e=()=>{console.log("Kategori g\xfcncelleme eventi alındı, kategoriler yenileniyor..."),c()},t=e=>{if("categories-last-updated"===e.key){let t=parseInt(e.newValue||"0");t>o&&(console.log("LocalStorage kategori g\xfcncellemesi algılandı"),d(t),c())}};return window.addEventListener(s,e),window.addEventListener("storage",t),()=>{window.removeEventListener(s,e),window.removeEventListener("storage",t)}},[o]),{categories:e,loading:l,error:i,refetch:c}}},65590:(e,t,l)=>{Promise.resolve().then(l.bind(l,22413))}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8441,1684,7358],()=>t(65590)),_N_E=e.O()}]);