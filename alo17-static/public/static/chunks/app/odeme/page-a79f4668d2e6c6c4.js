(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9689],{35695:(e,s,a)=>{"use strict";var t=a(18999);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},62283:(e,s,a)=>{Promise.resolve().then(a.bind(a,67015))},67015:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o,dynamic:()=>d});var t=a(95155),r=a(12115),n=a(35695),i=a(6874),l=a.n(i),c=a(95718);let d="force-dynamic",m={id:1,title:"iPhone 14 Pro Max 256GB",price:"45.000",type:c.E.PREMIUM,premiumFeatures:{price:149,duration:30}};function o(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(x,{})})}function x(){(0,n.useRouter)();let e=(0,n.useSearchParams)(),[s,a]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let s=await fetch("/api/payment/initialize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({listingId:null==e?void 0:e.get("listingId"),amount:m.premiumFeatures.price,currency:"TL"})});if(!s.ok)throw Error("\xd6deme başlatılamadı");let t=await s.json();o(t),a(!1)}catch(e){c(e instanceof Error?e.message:"Bir hata oluştu"),a(!1)}})()},[e]);let x=async e=>{if(e.preventDefault(),d)try{let e=document.createElement("iframe");e.src="https://www.paytr.com/odeme/guvenli",e.style.width="100%",e.style.height="100%",e.style.border="none";let s=document.getElementById("paytr-iframe-container");s&&(s.innerHTML="",s.appendChild(e))}catch(e){c(e instanceof Error?e.message:"\xd6deme işlemi başlatılamadı")}};return s?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-alo-orange mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"\xd6deme hazırlanıyor..."})]})}):i?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-red-500 mb-4",children:(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Hata Oluştu"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:i}),(0,t.jsx)(l(),{href:"/",className:"inline-block bg-alo-orange text-white px-6 py-2 rounded-lg hover:bg-alo-light-orange transition-colors",children:"Ana Sayfaya D\xf6n"})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-alo-dark mb-6",children:"\xd6deme \xd6zeti"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 border-b",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"İlan Başlığı"}),(0,t.jsx)("span",{className:"font-medium",children:m.title})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 border-b",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Premium \xdcyelik"}),(0,t.jsxs)("span",{className:"font-medium",children:[m.premiumFeatures.duration," G\xfcn"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 border-b",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Premium \xd6zellikler"}),(0,t.jsxs)("ul",{className:"text-right text-sm text-gray-600",children:[(0,t.jsx)("li",{children:"• 5 adet resim y\xfckleme"}),(0,t.jsx)("li",{children:"• İlan \xf6ne \xe7ıkarma"}),(0,t.jsx)("li",{children:"• Premium rozeti"}),(0,t.jsx)("li",{children:"• Detaylı istatistikler"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 border-b",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Toplam Tutar"}),(0,t.jsxs)("span",{className:"text-xl font-bold text-alo-orange",children:[m.premiumFeatures.price," TL"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-alo-dark mb-6",children:"\xd6deme Bilgileri"}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,t.jsx)("div",{id:"paytr-iframe-container",className:"w-full h-[600px] border rounded-lg"}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,t.jsx)(l(),{href:"/",className:"text-gray-600 hover:text-alo-orange",children:"← Vazge\xe7"}),(0,t.jsx)("button",{type:"submit",className:"bg-alo-orange text-white px-8 py-3 rounded-lg font-semibold hover:bg-alo-light-orange transition-colors",children:"\xd6demeyi Tamamla"})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),(0,t.jsx)("span",{children:"256-bit SSL ile G\xfcvenli \xd6deme"})]}),(0,t.jsx)("p",{children:"PayTR g\xfcvenli \xf6deme altyapısı kullanılmaktadır."})]})]})})})}},95718:(e,s,a)=>{"use strict";a.d(s,{E:()=>t,n:()=>r});let t={FREE:"free",PREMIUM:"premium"},r={ACTIVE:"active",PENDING:"pending",SOLD:"sold",EXPIRED:"expired"}}},e=>{var s=s=>e(e.s=s);e.O(0,[6874,8441,1684,7358],()=>s(62283)),_N_E=e.O()}]);