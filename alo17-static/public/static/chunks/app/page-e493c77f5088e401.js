(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{6752:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]])},9428:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},10238:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},17576:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},17580:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},22732:(e,t,a)=>{"use strict";a.d(t,{C:()=>s,j:()=>i});var r=a(12115);let l="categories-updated",s=()=>{localStorage.setItem("categories-last-updated",Date.now().toString()),window.dispatchEvent(new CustomEvent(l))};function i(){let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[i,n]=(0,r.useState)(null),[c,d]=(0,r.useState)(0),o=async()=>{try{s(!0),n(null);let e=await fetch("/api/categories");if(e.ok){let a=await e.json();t(a),s(!1);return}let a=await fetch("/categories.json");if(a.ok){let e=await a.json();t(e),s(!1);return}throw Error("Kategoriler y\xfcklenemedi")}catch(e){console.error("Kategoriler y\xfcklenirken hata:",e),n("Kategoriler y\xfcklenemedi"),s(!1)}};return(0,r.useEffect)(()=>{o();let e=()=>{console.log("Kategori g\xfcncelleme eventi alındı, kategoriler yenileniyor..."),o()},t=e=>{if("categories-last-updated"===e.key){let t=parseInt(e.newValue||"0");t>c&&(console.log("LocalStorage kategori g\xfcncellemesi algılandı"),d(t),o())}};return window.addEventListener(l,e),window.addEventListener("storage",t),()=>{window.removeEventListener(l,e),window.removeEventListener("storage",t)}},[c]),{categories:e,loading:a,error:i,refetch:o}}},30644:(e,t,a)=>{"use strict";a.d(t,{B:()=>N});var r=a(95155),l=a(6874),s=a.n(l),i=a(35695),n=a(22732),c=a(46767),d=a(57340),o=a(6752),u=a(60576),h=a(80465),m=a(87949),g=a(95747),x=a(10238),y=a(51976),p=a(33127),k=a(17576),b=a(17580),v=a(9428);let f=["text-blue-500","text-indigo-500","text-orange-500","text-purple-500","text-pink-500","text-emerald-500","text-cyan-500","text-amber-500","text-teal-500","text-rose-500","text-violet-500","text-lime-500","text-green-600","text-slate-500"],j={elektronik:c.A,"ev-bahce":d.A,giyim:o.A,"anne-bebek":u.A,"sporlar-oyunlar-eglenceler":h.A,"egitim-kurslar":m.A,"yemek-icecek":g.A,"turizm-gecelemeler":x.A,"saglik-guzellik":y.A,"sanat-hobi":p.A,is:k.A,hizmetler:b.A,"ucretsiz-gel-al":x.A,diger:v.A};function w(e){return null==e?void 0:e.toLowerCase().replace(/\s+/g,"-")}function A(e){return j[w(e)]||v.A}let N=()=>{var e,t;let a=(0,i.usePathname)(),l=null!=(e=null==a?void 0:a.startsWith("/kategori/"))&&e,c=null!=(t=null==a?void 0:a.split("/").filter(Boolean))?t:[],d=c[1],o=c[2],{categories:u,loading:h,error:m}=(0,n.j)();return h?(0,r.jsx)("div",{className:"w-64 bg-white p-4 border-r",children:"Kategoriler y\xfckleniyor..."}):m?(0,r.jsx)("div",{className:"w-64 bg-white p-4 border-r text-red-600",children:m}):(0,r.jsxs)("div",{className:"w-64 bg-white p-4 border-r",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Kategoriler"}),(0,r.jsx)("div",{className:"space-y-2",children:u.map((e,t)=>{var a;let i=A(e.slug),n=(e.slug,f[t%f.length]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(s(),{href:"/kategori/".concat(e.slug),className:"flex items-center gap-2 px-3 py-2 rounded-md ".concat(d===e.slug?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(i,{className:"w-5 h-5 ".concat(n)}),(0,r.jsx)("span",{children:e.name})]}),l&&d===e.slug&&e.subCategories&&(0,r.jsx)("div",{className:"ml-4 mt-1 space-y-1",children:e.subCategories.map((t,a)=>{let l=A(w(t.slug)),i=f[a%f.length];return(0,r.jsxs)(s(),{href:"/kategori/".concat(e.slug,"/").concat(t.slug),className:"flex items-center gap-2 px-3 py-1.5 text-sm rounded-md ".concat(o===t.slug?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"),children:[(0,r.jsx)(l,{className:"w-4 h-4 ".concat(i)}),(0,r.jsx)("span",{children:t.name})]},t.slug)})})]},e.slug)})})]})}},33127:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])},33792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(95155),l=a(12115),s=a(30644),i=a(68801),n=a(6874),c=a.n(n),d=a(22732);function o(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)(!0),[o,u]=(0,l.useState)(""),[h,m]=(0,l.useState)(1),[g]=(0,l.useState)(12),{categories:x,loading:y,error:p,refetch:k}=(0,d.j)();(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/listings");if(e.ok){let a=(await e.json()).filter(e=>"active"===e.status);t(a)}}catch(e){}finally{n(!1)}})()},[]);let b=e.filter(e=>"active"===e.status).filter(e=>e.title.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())||e.category.toLowerCase().includes(o.toLowerCase())),v=b.filter(e=>e.isPremium).slice(0,3),f=h*g,j=b.slice(f-g,f),w=Math.ceil(b.length/g),A=e=>{m(e),window.scrollTo({top:0,behavior:"smooth"})};return a?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"İlanlar y\xfckleniyor..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"flex gap-8",children:[(0,r.jsx)("div",{className:"w-64 flex-shrink-0",children:(0,r.jsx)(s.B,{})}),(0,r.jsxs)("div",{className:"flex-1",children:[v.length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,r.jsx)("span",{className:"text-yellow-500 mr-2",children:"⭐"}),"Premium İlanlar"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>(0,r.jsx)(i.l,{listing:e},e.id))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"T\xfcm İlanlar"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[b.length," ilan bulundu"]})]}),j.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>(0,r.jsx)(i.l,{listing:e},e.id))}),w>1&&(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsxs)("nav",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>A(h-1),disabled:1===h,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"\xd6nceki"}),Array.from({length:w},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>A(e),className:"px-3 py-2 text-sm font-medium rounded-md ".concat(h===e?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"),children:e},e)),(0,r.jsx)("button",{onClick:()=>A(h+1),disabled:h===w,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sonraki"})]})})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:o?"Arama kriterlerinize uygun ilan bulunamadı.":"Hen\xfcz ilan bulunmuyor."}),(0,r.jsx)(c(),{href:"/ilan-ver",className:"mt-4 inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"İlk İlanı Ver"})]})]})]})]})})})}},35695:(e,t,a)=>{"use strict";var r=a(18999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},46767:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},57340:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},60576:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("baby",[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]])},64461:(e,t,a)=>{Promise.resolve().then(a.bind(a,33792))},80465:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("dumbbell",[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]])},87949:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},95747:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(90602).A)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,1582,6766,8801,8441,1684,7358],()=>t(64461)),_N_E=e.O()}]);