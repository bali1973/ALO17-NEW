(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7089],{16335:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var l=t(95155),r=t(12115);let n={siteTitle:"",metaTitle:"",supportEmail:"",homepageDescription:"",logoUrl:"",phone:"",footerText:"",facebook:"",instagram:"",twitter:"",address:"",invoiceAddress:"",announcementText:"",googleAdsCode:""};function o(){let[e,a]=(0,r.useState)(n),[t,o]=(0,r.useState)(!0),[s,i]=(0,r.useState)(""),[d,c]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=localStorage.getItem("alo17-admin-token");fetch("/api/admin/settings",{headers:{...e?{Authorization:"Bearer ".concat(e)}:{}}}).then(e=>e.json()).then(e=>{a({...n,...e}),o(!1)}).catch(()=>{c("Ayarlar y\xfcklenemedi"),o(!1)})},[]);let m=e=>{let{name:t,value:l}=e.target;a(e=>({...e,[t]:l}))},p=e=>{let{name:t,value:l}=e.target;a(e=>({...e,[t]:l}))},u=async a=>{a.preventDefault(),i(""),c("");try{let a=localStorage.getItem("alo17-admin-token");(await fetch("/api/admin/settings",{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify(e)})).ok?i("Ayarlar başarıyla kaydedildi!"):c("Ayarlar kaydedilemedi!")}catch(e){c("Ayarlar kaydedilemedi!")}},h=async e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];if(l)try{let e=await l.text(),t=JSON.parse(e);a({...n,...t});let r=localStorage.getItem("alo17-admin-token");(await fetch("/api/admin/settings",{method:"PATCH",headers:{"Content-Type":"application/json",...r?{Authorization:"Bearer ".concat(r)}:{}},body:JSON.stringify(t)})).ok?i("Ayarlar başarıyla y\xfcklendi!"):c("Ayarlar y\xfcklenemedi!")}catch(e){c("Ge\xe7ersiz dosya veya okuma hatası!")}},x=async e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];if(!l)return;let r=new FormData;r.append("file",l),r.append("type","logo");let n=localStorage.getItem("alo17-admin-token"),o=await fetch("/api/admin/upload",{method:"POST",headers:n?{Authorization:"Bearer ".concat(n)}:{},body:r}),s=await o.json();s.url?(a(e=>({...e,logoUrl:s.url})),i("Logo başarıyla y\xfcklendi!")):c("Logo y\xfcklenemedi!")},y=async e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];if(!l)return;let r=new FormData;r.append("file",l),r.append("type","favicon");let n=localStorage.getItem("alo17-admin-token"),o=await fetch("/api/admin/upload",{method:"POST",headers:n?{Authorization:"Bearer ".concat(n)}:{},body:r}),s=await o.json();s.url?(a(e=>({...e,faviconUrl:s.url})),i("Favicon başarıyla y\xfcklendi!")):c("Favicon y\xfcklenemedi!")};return t?(0,l.jsx)("div",{className:"p-8",children:"Y\xfckleniyor..."}):(0,l.jsxs)("div",{className:"max-w-2xl mx-auto p-8 bg-white rounded-lg shadow-md mt-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Ayarlar"}),(0,l.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{let a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download","settings.json"),document.body.appendChild(t),t.click(),t.remove()},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Ayarları Dışa Aktar (JSON İndir)"}),(0,l.jsxs)("label",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition cursor-pointer",children:["Ayarları İ\xe7e Aktar (JSON Y\xfckle)",(0,l.jsx)("input",{type:"file",accept:"application/json",onChange:h,className:"hidden"})]}),(0,l.jsx)("button",{type:"button",onClick:()=>{let e=document.createElement("a");e.href="/api/admin/backup",e.download="site-backup.zip",document.body.appendChild(e),e.click(),e.remove()},className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700 transition",children:"Siteyi Yedekle (T\xfcm İ\xe7eriği İndir)"})]}),(0,l.jsxs)("form",{className:"space-y-4",onSubmit:u,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Site Başlığı"}),(0,l.jsx)("input",{type:"text",name:"siteTitle",value:e.siteTitle,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Site başlığını girin"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Site Meta Başlığı (Slogan)"}),(0,l.jsx)("input",{type:"text",name:"metaTitle",value:e.metaTitle||"",onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"\xd6rn: T\xfcrkiye'nin En B\xfcy\xfck İlan Sitesi"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Destek E-posta"}),(0,l.jsx)("input",{type:"email",name:"supportEmail",value:e.supportEmail,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"destek@site.com"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Ana Sayfa A\xe7ıklaması"}),(0,l.jsx)("textarea",{name:"homepageDescription",value:e.homepageDescription,onChange:p,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Ana sayfa a\xe7ıklaması"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Site Logosu (URL)"}),(0,l.jsx)("input",{type:"text",name:"logoUrl",value:e.logoUrl,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 mb-2",placeholder:"/images/logo.svg"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:x,className:"block"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Favicon (URL)"}),(0,l.jsx)("input",{type:"text",name:"faviconUrl",value:e.faviconUrl||"",onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 mb-2",placeholder:"/favicon.ico"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:y,className:"block"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Telefon"}),(0,l.jsx)("input",{type:"text",name:"phone",value:e.phone,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"+90 555 123 4567"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Footer Metni"}),(0,l.jsx)("input",{type:"text",name:"footerText",value:e.footerText,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"\xa9 2024 Alo17. T\xfcm hakları saklıdır."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Facebook"}),(0,l.jsx)("input",{type:"text",name:"facebook",value:e.facebook,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"https://facebook.com/alo17"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Instagram"}),(0,l.jsx)("input",{type:"text",name:"instagram",value:e.instagram,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"https://instagram.com/alo17"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Twitter"}),(0,l.jsx)("input",{type:"text",name:"twitter",value:e.twitter,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"https://twitter.com/alo17"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"WhatsApp Destek Numarası"}),(0,l.jsx)("input",{type:"text",name:"whatsappNumber",value:e.whatsappNumber,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"+90 555 123 4567"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"PayTR API Key"}),(0,l.jsx)("input",{type:"text",name:"paytrApiKey",value:e.paytrApiKey,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"PayTR API Key"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"PayTR Merchant ID"}),(0,l.jsx)("input",{type:"text",name:"paytrMerchantId",value:e.paytrMerchantId,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"PayTR Merchant ID"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"PayTR Merchant Salt"}),(0,l.jsx)("input",{type:"text",name:"paytrMerchantSalt",value:e.paytrMerchantSalt,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"PayTR Merchant Salt"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Stripe Public Key"}),(0,l.jsx)("input",{type:"text",name:"stripePublicKey",value:e.stripePublicKey,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Stripe Public Key"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Stripe Secret Key"}),(0,l.jsx)("input",{type:"text",name:"stripeSecretKey",value:e.stripeSecretKey,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Stripe Secret Key"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Fatura Başlığı"}),(0,l.jsx)("input",{type:"text",name:"invoiceTitle",value:e.invoiceTitle,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Fatura başlığı"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Vergi Numarası"}),(0,l.jsx)("input",{type:"text",name:"taxNumber",value:e.taxNumber,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Vergi numarası"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Fatura Adresi"}),(0,l.jsx)("textarea",{name:"invoiceAddress",value:e.invoiceAddress,onChange:p,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Fatura adresi"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Duyuru Metni"}),(0,l.jsx)("input",{type:"text",name:"announcementText",value:e.announcementText,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Duyuru metni"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Google Reklam Kodu (HTML/script)"}),(0,l.jsx)("textarea",{name:"googleAdsCode",value:e.googleAdsCode,onChange:p,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"<script async src='https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-X'><\/script>\\n<script>...<\/script>",rows:4})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"announcementActive",name:"announcementActive",checked:!!e.announcementActive,onChange:t=>a({...e,announcementActive:t.target.checked}),className:"mr-2"}),(0,l.jsx)("label",{htmlFor:"announcementActive",className:"text-gray-700 font-medium",children:"Duyuru Aktif"})]}),(0,l.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition",children:"Kaydet"}),s&&(0,l.jsx)("div",{className:"mt-2 text-green-600 font-semibold",children:s}),d&&(0,l.jsx)("div",{className:"mt-2 text-red-600 font-semibold",children:d})]})]})}},52912:(e,a,t)=>{Promise.resolve().then(t.bind(t,16335))}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=52912)),_N_E=e.O()}]);