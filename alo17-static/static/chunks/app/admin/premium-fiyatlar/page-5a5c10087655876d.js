(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{1243:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(19946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},12926:(e,a,r)=>{"use strict";r.d(a,{As:()=>d,default:()=>u});var t=r(95155),s=r(12115),l=r(50626);let n=(0,s.createContext)(void 0);function i(e){let{children:a}=e,[r,l]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/session");if(e.ok){let a=await e.json();a.user&&l({user:a.user})}}catch(e){console.error("Auth check failed:",e)}finally{d(!1)}})()},[]),(0,t.jsx)(n.Provider,{value:{session:r,isLoading:i,setSession:l},children:a})}function d(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}let o=(0,s.createContext)(void 0);function c(e){let{children:a}=e,[r,n]=(0,s.useState)("tr"),[i,d]=(0,s.useState)(0);return(0,s.useEffect)(()=>(l.Ru.loadLocaleFromStorage(),n(l.Ru.getCurrentLocale()),l.Ru.onLocaleChange(e=>{n(e),d(e=>e+1),window.location.reload()})),[]),(0,t.jsx)(o.Provider,{value:{currentLocale:r,setLocale:e=>{l.Ru.setLocale(e)},forceRefresh:()=>{d(e=>e+1),window.location.reload()}},children:(0,t.jsx)("div",{children:a},i)})}function u(e){let{children:a}=e;return(0,t.jsx)(i,{children:(0,t.jsx)(c,{children:a})})}},15617:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>g});var t=r(95155),s=r(12115),l=r(12926),n=r(35695),i=r(38564),d=r(1243),o=r(53311),c=r(33109),u=r(19946);let m=(0,u.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),h=(0,u.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var p=r(55868),x=r(69074);function g(){let{session:e,isLoading:a}=(0,l.As)(),r=(0,n.useRouter)(),[u,g]=(0,s.useState)([]),[y,b]=(0,s.useState)(!0),[f,j]=(0,s.useState)(!1),[v,k]=(0,s.useState)(""),[N,w]=(0,s.useState)({featured:0,urgent:0,highlighted:0,top:0}),[A,C]=(0,s.useState)(!0),[P,S]=(0,s.useState)(!1),[M,z]=(0,s.useState)("");(0,s.useEffect)(()=>{e?"admin"!==e.user.role?r.push("/"):(F(),L()):r.push("/giris?callbackUrl=/admin/premium-fiyatlar")},[e,r]);let F=async()=>{try{let e=await fetch("/api/premium-plans");if(e.ok){let a=await e.json();g(a)}}catch(e){console.error("Premium planları getirme hatası:",e)}finally{b(!1)}},L=async()=>{try{let e=await fetch("/api/premium-feature-prices");if(e.ok){let a=await e.json();w(a)}}catch(e){console.error("\xd6zellik fiyatları getirme hatası:",e)}finally{C(!1)}},R=async()=>{j(!0),k("");try{let e=await fetch("/api/premium-plans",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({plans:u})});if(e.ok)k("Premium planlar başarıyla g\xfcncellendi!"),setTimeout(()=>k(""),3e3);else{let a=await e.json();k(a.message||"G\xfcncelleme sırasında bir hata oluştu")}}catch(e){console.error("G\xfcncelleme hatası:",e),k("G\xfcncelleme sırasında bir hata oluştu")}finally{j(!1)}},E=(e,a)=>{w(r=>({...r,[e]:a}))},G=async()=>{S(!0),z("");try{(await fetch("/api/premium-feature-prices",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).ok?(z("\xd6zellik fiyatları başarıyla g\xfcncellendi!"),setTimeout(()=>z(""),3e3)):z("G\xfcncelleme sırasında bir hata oluştu")}catch(e){z("G\xfcncelleme sırasında bir hata oluştu")}finally{S(!1)}};return a||y?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-alo-orange mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Y\xfckleniyor..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Premium Fiyat Y\xf6netimi"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Premium ilan planlarının fiyatlarını d\xfczenleyin"})]}),v&&(0,t.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat(v.includes("başarıyla")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:v}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900",children:"İsteğe Bağlı Premium \xd6zellik Fiyatları"}),M&&(0,t.jsx)("div",{className:"mb-4 p-3 rounded-lg ".concat(M.includes("başarıyla")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:M}),A?(0,t.jsx)("div",{children:"Y\xfckleniyor..."}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(i.A,{className:"inline w-4 h-4 mr-1 text-yellow-500"}),"\xd6ne \xc7ıkar (Featured)"]}),(0,t.jsx)("input",{type:"number",value:N.featured,onChange:e=>E("featured",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(d.A,{className:"inline w-4 h-4 mr-1 text-red-500"}),"Acil (Urgent)"]}),(0,t.jsx)("input",{type:"number",value:N.urgent,onChange:e=>E("urgent",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(o.A,{className:"inline w-4 h-4 mr-1 text-blue-500"}),"Vurgulu (Highlighted)"]}),(0,t.jsx)("input",{type:"number",value:N.highlighted,onChange:e=>E("highlighted",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(c.A,{className:"inline w-4 h-4 mr-1 text-green-500"}),"\xdcstte G\xf6sterim (Top)"]}),(0,t.jsx)("input",{type:"number",value:N.top,onChange:e=>E("top",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",min:"0",step:"0.01"})]})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)("button",{onClick:G,disabled:P,className:"px-6 py-3 bg-alo-orange text-white rounded-md hover:bg-orange-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Kaydediliyor..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{className:"w-4 h-4"}),"Değişiklikleri Kaydet"]})})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("div",{className:"grid gap-6",children:u.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-alo-orange bg-opacity-10 rounded-lg",children:(0,t.jsx)(h,{className:"w-6 h-6 text-alo-orange"})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"text",value:e.name,onChange:a=>{var r,t;return r=e.key,t=a.target.value,void g(e=>e.map(e=>e.key===r?{...e,name:t}:e))},className:"text-xl font-semibold bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-alo-orange rounded px-2 py-1"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(p.A,{className:"w-4 h-4 inline mr-1"}),"Fiyat (₺)"]}),(0,t.jsx)("input",{type:"number",value:e.price,onChange:a=>{var r,t;return r=e.key,t=parseFloat(a.target.value)||0,void g(e=>e.map(e=>e.key===r?{...e,price:t}:e))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 inline mr-1"}),"S\xfcre (G\xfcn)"]}),(0,t.jsx)("input",{type:"number",value:e.days,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"S\xfcre değiştirilemez"})]})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Plan Anahtarı:"})," ",e.key]})})]},e.key))}),(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsx)("button",{onClick:R,disabled:f,className:"px-6 py-3 bg-alo-orange text-white rounded-md hover:bg-orange-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Kaydediliyor..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{className:"w-4 h-4"}),"Değişiklikleri Kaydet"]})})})]}),(0,t.jsxs)("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"Bilgi"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Fiyat değişiklikleri anında t\xfcm kullanıcılara yansır"}),(0,t.jsx)("li",{children:"• \xdccretsiz plan (free) fiyatı 0 olarak kalmalıdır"}),(0,t.jsx)("li",{children:"• Plan anahtarları değiştirilemez"}),(0,t.jsx)("li",{children:"• S\xfcre değerleri değiştirilemez"})]})]})]})})}},19946:(e,a,r)=>{"use strict";r.d(a,{A:()=>d});var t=r(12115);let s=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},l=function(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return a.filter((e,a,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===a).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,a)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:a,...n,width:s,height:s,stroke:r,strokeWidth:d?24*Number(i)/Number(s):i,className:l("lucide",o),...!c&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[a,r]=e;return(0,t.createElement)(a,r)}),...Array.isArray(c)?c:[c]])}),d=(e,a)=>{let r=(0,t.forwardRef)((r,n)=>{let{className:d,...o}=r;return(0,t.createElement)(i,{ref:n,iconNode:a,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...o})});return r.displayName=s(e),r}},33109:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},35695:(e,a,r)=>{"use strict";var t=r(18999);r.o(t,"useParams")&&r.d(a,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(a,{useSearchParams:function(){return t.useSearchParams}})},38564:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(19946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},49810:(e,a,r)=>{Promise.resolve().then(r.bind(r,15617))},53311:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(19946).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},55868:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(19946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},69074:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(19946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{e.O(0,[626,8441,5964,7358],()=>e(e.s=49810)),_N_E=e.O()}]);