(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5037],{27305:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},28960:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},35695:(e,t,a)=>{"use strict";var r=a(18999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},37042:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(95155),s=a(12115),l=a(35695),n=a(26388),i=a(78046),o=a(55233),c=a(74500),d=a(57208),u=a(28960);let m=s.forwardRef(function(e,t){let{title:a,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))});var x=a(27305);let h=s.forwardRef(function(e,t){let{title:a,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),a?s.createElement("title",{id:r},a):null,s.createElement("path",{fillRule:"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z",clipRule:"evenodd"}))});var g=a(80353);function p(){let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(""),[p,b]=(0,s.useState)({}),[f,y]=(0,s.useState)(!1),[j,v]=(0,s.useState)([]),[w,N]=(0,s.useState)([]),[k,S]=(0,s.useState)([]),[E,A]=(0,s.useState)(!1),[L,C]=(0,s.useState)(-1),[R,M]=(0,s.useState)([]),[O]=(0,s.useState)(["iPhone","Araba","Ev","Bilgisayar","Telefon","Tablet","Laptop"]),P=(0,s.useRef)(null),B=(0,s.useRef)(null),F=(0,l.useRouter)();(0,s.useEffect)(()=>{T(),K()},[]),(0,s.useEffect)(()=>{if(!a.trim()&&0===Object.keys(p).length)return void v([]);let e=setTimeout(()=>{Y()},300);return()=>clearTimeout(e)},[a,p]);let T=async()=>{try{let e=await fetch("/api/categories"),t=await e.json();N(t)}catch(e){console.error("Kategoriler y\xfcklenemedi:",e)}},D=async e=>{try{let t=await fetch("/api/categories/".concat(e,"/subcategories")),a=await t.json();S(a)}catch(e){console.error("Alt kategoriler y\xfcklenemedi:",e)}},K=()=>{{let e=localStorage.getItem("search_history");e&&M(JSON.parse(e))}},_=e=>{{let t=R.filter(t=>t!==e),a=[e,...t].slice(0,10);M(a),localStorage.setItem("search_history",JSON.stringify(a))}},Y=async()=>{A(!0);try{let e=new URLSearchParams;a.trim()&&e.append("search",a.trim()),p.category&&e.append("category",p.category),p.subcategory&&e.append("subcategory",p.subcategory),p.priceMin&&e.append("priceMin",p.priceMin.toString()),p.priceMax&&e.append("priceMax",p.priceMax.toString()),p.location&&e.append("location",p.location),p.condition&&e.append("condition",p.condition),p.sortBy&&e.append("sortBy",p.sortBy),p.premium&&e.append("premium","true"),p.dateRange&&e.append("dateRange",p.dateRange);let t=await fetch("/api/listings?".concat(e.toString())),r=await t.json();v(r.listings||[])}catch(e){console.error("Arama hatası:",e),v([])}finally{A(!1)}},Z=(e,t)=>{b(a=>({...a,[e]:t}))},z=e=>{"listing"===e.type?F.push("/ilan/".concat(e.id)):F.push("/kategori/".concat(e.category)),a.trim()&&_(a.trim()),t(!1),n(""),v([])},q=()=>{if(a.trim()||Object.keys(p).length>0){let e=new URLSearchParams;a.trim()&&(e.append("q",a.trim()),_(a.trim())),Object.entries(p).forEach(t=>{let[a,r]=t;r&&e.append(a,r.toString())}),F.push("/arama?".concat(e.toString())),t(!1)}};return(0,r.jsxs)("div",{className:"relative",ref:P,children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"flex items-center bg-white border border-gray-300 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500",children:[(0,r.jsx)(i.A,{className:"h-5 w-5 text-gray-400 ml-3"}),(0,r.jsx)("input",{ref:B,type:"text",placeholder:"Ne arıyorsunuz?",value:a,onChange:e=>n(e.target.value),onFocus:()=>t(!0),onKeyDown:e=>{"ArrowDown"===e.key?(e.preventDefault(),C(e=>e<j.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),C(e=>e>0?e-1:-1)):"Enter"===e.key?(e.preventDefault(),L>=0&&j[L]?z(j[L]):q()):"Escape"===e.key&&t(!1)},className:"flex-1 px-3 py-2 text-sm focus:outline-none"}),(0,r.jsx)("button",{onClick:()=>y(!f),className:"p-2 mr-1 rounded-md transition-colors ".concat(f||Object.keys(p).length>0?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"),children:f||Object.keys(p).length>0?(0,r.jsx)(h,{className:"h-5 w-5"}):(0,r.jsx)(o.A,{className:"h-5 w-5"})}),a&&(0,r.jsx)("button",{onClick:()=>n(""),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,r.jsx)(c.A,{className:"h-5 w-5"})})]})}),f&&(0,r.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 p-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),(0,r.jsxs)("select",{value:p.category||"",onChange:e=>{var t;return t=e.target.value,void(b(e=>({...e,category:t,subcategory:void 0})),t?D(t):S([]))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"T\xfcm Kategoriler"}),w.map(e=>(0,r.jsx)("option",{value:e.slug,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Kategori"}),(0,r.jsxs)("select",{value:p.subcategory||"",onChange:e=>Z("subcategory",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!p.category,children:[(0,r.jsx)("option",{value:"",children:"T\xfcm Alt Kategoriler"}),k.map(e=>(0,r.jsx)("option",{value:e.slug,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konum"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Şehir veya il\xe7e",value:p.location||"",onChange:e=>Z("location",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fiyat Aralığı"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(u.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"number",placeholder:"Min",value:p.priceMin||"",onChange:e=>Z("priceMin",e.target.value?Number(e.target.value):void 0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsx)("span",{className:"text-gray-400 self-center",children:"-"}),(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(u.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"number",placeholder:"Max",value:p.priceMax||"",onChange:e=>Z("priceMax",e.target.value?Number(e.target.value):void 0),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durum"}),(0,r.jsxs)("select",{value:p.condition||"",onChange:e=>Z("condition",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"T\xfcm\xfc"}),(0,r.jsx)("option",{value:"new",children:"Yeni"}),(0,r.jsx)("option",{value:"used",children:"Kullanılmış"}),(0,r.jsx)("option",{value:"refurbished",children:"Yenilenmiş"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sıralama"}),(0,r.jsxs)("select",{value:p.sortBy||"",onChange:e=>Z("sortBy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Varsayılan"}),(0,r.jsx)("option",{value:"newest",children:"En Yeni"}),(0,r.jsx)("option",{value:"oldest",children:"En Eski"}),(0,r.jsx)("option",{value:"price_low",children:"Fiyat (D\xfcş\xfck-Y\xfcksek)"}),(0,r.jsx)("option",{value:"price_high",children:"Fiyat (Y\xfcksek-D\xfcş\xfck)"}),(0,r.jsx)("option",{value:"popular",children:"Pop\xfcler"}),(0,r.jsx)("option",{value:"premium",children:"Premium \xd6ncelik"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[(0,r.jsx)("button",{onClick:()=>{b({}),S([])},className:"text-sm text-gray-600 hover:text-gray-800",children:"Filtreleri Temizle"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Kapat"}),(0,r.jsx)("button",{onClick:q,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Ara"})]})]})]}),e&&(0,r.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:E?(0,r.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-2",children:"Aranıyor..."})]}):j.length>0?(0,r.jsx)("div",{className:"py-2",children:j.map((e,t)=>{let a;return(0,r.jsxs)("div",{onClick:()=>z(e),className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer ".concat(t===L?"bg-blue-50":""),children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-200 rounded-lg overflow-hidden mr-3",children:e.image?(0,r.jsx)(g.A,{src:e.image,alt:e.title,width:48,height:48,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,r.jsx)(m,{className:"h-6 w-6"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,r.jsxs)("span",{className:"font-semibold text-green-600",children:[(a=e.price,new Intl.NumberFormat("tr-TR").format(a))," ₺"]}),(0,r.jsx)("span",{className:"mx-1",children:"•"}),(0,r.jsx)("span",{children:e.location}),e.premium&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mx-1",children:"•"}),(0,r.jsx)(x.A,{className:"h-3 w-3 text-yellow-500"}),(0,r.jsx)("span",{className:"text-yellow-600",children:"Premium"})]})]})]})]},e.id)})}):a.trim()?(0,r.jsx)("div",{className:"p-4 text-center text-gray-500",children:(0,r.jsx)("p",{children:"Sonu\xe7 bulunamadı"})}):(0,r.jsxs)("div",{className:"p-4",children:[R.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Son Aramalar"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:R.slice(0,5).map((e,t)=>(0,r.jsx)("button",{onClick:()=>n(e),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200",children:e},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Pop\xfcler Aramalar"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:O.map((e,t)=>(0,r.jsx)("button",{onClick:()=>n(e),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200",children:e},t))})]})]})})]})}var b=a(82771);let f=s.forwardRef(function(e,t){let{title:a,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});function y(){let e=(0,l.useSearchParams)(),t=(0,l.useRouter)(),[a,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(!0),[g,y]=(0,s.useState)(null),[j,v]=(0,s.useState)(!1),[w,N]=(0,s.useState)({}),[k,S]=(0,s.useState)([]),[E,A]=(0,s.useState)(!1),[L,C]=(0,s.useState)(""),[R,M]=(0,s.useState)({listings:[],categories:[],history:[]}),[O,P]=(0,s.useState)(!1),B=(0,s.useRef)(null),F=(0,s.useRef)(null),T=e.get("q")||"",D=e.get("category")||"",K=e.get("subcategory")||"",_=e.get("priceMin"),Y=e.get("priceMax"),Z=e.get("location")||"",z=e.get("condition")||"",q=e.get("sortBy")||"",U="true"===e.get("premium"),W=e.get("dateRange")||"";(0,s.useEffect)(()=>{C(T)},[T]),(0,s.useEffect)(()=>{T&&H()},[T,D,K,_,Y,Z,z,q,U,W]),(0,s.useEffect)(()=>{let e={};D&&(e.category=D),K&&(e.subcategory=K),_&&(e.priceMin=Number(_)),Y&&(e.priceMax=Number(Y)),Z&&(e.location=Z),z&&(e.condition=z),q&&(e.sortBy=q),U&&(e.premium=U),W&&(e.dateRange=W),N(e)},[D,K,_,Y,Z,z,q,U,W]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{L.length>=2?I(L):P(!1)},300);return()=>clearTimeout(e)},[L]),(0,s.useEffect)(()=>{let e=e=>{F.current&&!F.current.contains(e.target)&&P(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let I=async e=>{try{let t=await fetch("/api/search?q=".concat(encodeURIComponent(e),"&type=all"));if(t.ok){let e=await t.json();M(e),P(!0)}}catch(e){console.error("Autocomplete error:",e)}},H=async()=>{h(!0),y(null);try{let e={};D&&(e.category=D),K&&(e.subcategory=K),_&&(e.priceMin=Number(_)),Y&&(e.priceMax=Number(Y)),Z&&(e.location=Z),z&&(e.condition=z),q&&(e.sortBy=q),U&&(e.premium=U),W&&(e.dateRange=W);let t=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:T.trim(),filters:e})});if(!t.ok)throw Error("Arama sırasında bir hata oluştu");let a=await t.json();d(a.listings||[]),m(a.categories||[]),S(a.suggestions||[])}catch(e){console.error("Search error:",e),y("Arama sırasında bir hata oluştu"),d([]),m([])}finally{h(!1)}},J=e=>{C(e);let a=new URLSearchParams;a.set("q",e),Object.entries(w).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&a.set(t,r.toString())}),t.push("/arama?".concat(a.toString())),P(!1)},V=e=>new Intl.NumberFormat("tr-TR").format(e);return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Arama Sonu\xe7ları"}),(0,r.jsxs)("div",{className:"mb-6 relative",ref:F,children:[(0,r.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),L.trim()){let e=new URLSearchParams;e.set("q",L.trim()),Object.entries(w).forEach(t=>{let[a,r]=t;null!=r&&""!==r&&e.set(a,r.toString())}),t.push("/arama?".concat(e.toString())),P(!1)}},className:"relative",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{ref:B,type:"text",value:L,onChange:e=>C(e.target.value),placeholder:"Ne arıyorsunuz?",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onFocus:()=>{L.length>=2&&P(!0)}}),(0,r.jsx)(i.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-4 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Ara"})]})}),O&&(0,r.jsxs)("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 mt-1",children:[R.history.length>0&&(0,r.jsxs)("div",{className:"p-3 border-b border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),"Son Aramalar"]}),R.history.map((e,t)=>(0,r.jsx)("button",{onClick:()=>J(e),className:"block w-full text-left px-2 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded",children:e},t))]}),R.categories.length>0&&(0,r.jsxs)("div",{className:"p-3 border-b border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[(0,r.jsx)(f,{className:"h-4 w-4"}),"Kategoriler"]}),R.categories.map(e=>(0,r.jsxs)("a",{href:"/kategori/".concat(e.slug),className:"flex items-center gap-2 px-2 py-1 text-sm text-gray-700 hover:bg-gray-100 rounded",children:[e.icon&&(0,r.jsx)("span",{children:e.icon}),e.name]},e.id))]}),R.listings.length>0&&(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[(0,r.jsx)(f,{className:"h-4 w-4"}),"İlanlar"]}),R.listings.map(e=>(0,r.jsxs)("a",{href:"/ilan/".concat(e.id),className:"flex items-center gap-3 px-2 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:[e.images&&(0,r.jsx)("img",{src:JSON.parse(e.images)[0]||"/images/placeholder.svg",alt:e.title,className:"w-8 h-8 object-cover rounded"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"font-medium truncate",children:e.title}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.category})]}),(0,r.jsxs)("div",{className:"text-sm font-medium text-green-600",children:[V(e.price)," ₺"]})]},e.id))]})]})]}),Object.keys(w).length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Aktif Filtreler:"}),Object.entries(w).map(e=>{let[a,s]=e;return(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[((e,t)=>{switch(e){case"category":return"Kategori: ".concat(t);case"subcategory":return"Alt Kategori: ".concat(t);case"priceMin":return"Min Fiyat: ".concat(V(t)," ₺");case"priceMax":return"Max Fiyat: ".concat(V(t)," ₺");case"location":return"Konum: ".concat(t);case"condition":return"Durum: ".concat("new"===t?"Yeni":"used"===t?"Kullanılmış":"Yenilenmiş");case"sortBy":return"Sıralama: ".concat({newest:"En Yeni",oldest:"En Eski",price_low:"Fiyat (D\xfcş\xfck-Y\xfcksek)",price_high:"Fiyat (Y\xfcksek-D\xfcş\xfck)",popular:"Pop\xfcler",premium:"Premium",relevance:"İlgi D\xfczeyi"}[t]||t);case"premium":return"Premium İlanlar";case"dateRange":return"Tarih: ".concat({today:"Bug\xfcn",week:"Bu Hafta",month:"Bu Ay"}[t]||t);default:return"".concat(e,": ").concat(t)}})(a,s),(0,r.jsx)("button",{onClick:()=>(e=>{let a={...w};delete a[e];let r=new URLSearchParams;T&&r.set("q",T),Object.entries(a).forEach(e=>{let[t,a]=e;null!=a&&""!==a&&r.set(t,a.toString())}),t.push("/arama?".concat(r.toString()))})(a),className:"ml-1 text-blue-600 hover:text-blue-800",children:(0,r.jsx)(c.A,{className:"h-4 w-4"})})]},a)}),(0,r.jsx)("button",{onClick:()=>{let e=new URLSearchParams;T&&e.set("q",T),t.push("/arama?".concat(e.toString()))},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"T\xfcm\xfcn\xfc Temizle"})]}),!x&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-gray-600",children:[(0,r.jsx)("span",{className:"font-semibold",children:a.length})," ilan bulundu",T&&(0,r.jsxs)("span",{children:[' "',T,'" i\xe7in']})]}),(0,r.jsxs)("button",{onClick:()=>v(!j),className:"flex items-center gap-2 px-4 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),"Filtreler"]})]})]}),j&&(0,r.jsx)("div",{className:"mb-8 p-4 bg-white rounded-lg border border-gray-200",children:(0,r.jsx)(p,{})}),k.length>0&&!x&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"\xd6nerilen Aramalar:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map((e,t)=>(0,r.jsx)("button",{onClick:()=>J(e),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:e},t))})]}),u.length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Kategoriler"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map(e=>(0,r.jsx)("a",{href:"/kategori/".concat(e.slug),className:"block p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all",children:(0,r.jsxs)("div",{className:"text-center",children:[e.icon&&(0,r.jsx)("div",{className:"text-2xl mb-2",children:e.icon}),(0,r.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"İlanlar"}),x?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Aranıyor..."})]}):g?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-red-600 text-lg font-medium mb-2",children:"Hata Oluştu"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:g}),(0,r.jsx)("button",{onClick:H,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Tekrar Dene"})]}):0===a.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(i.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sonu\xe7 Bulunamadı"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:['"',T,'" i\xe7in arama sonucu bulunamadı. Farklı anahtar kelimeler deneyin.']}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"\xd6neriler:"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-500 space-y-1",children:[(0,r.jsx)("li",{children:"• Farklı anahtar kelimeler kullanın"}),(0,r.jsx)("li",{children:"• Daha genel terimler deneyin"}),(0,r.jsx)("li",{children:"• Filtreleri temizleyin"}),(0,r.jsx)("li",{children:"• Yazım hatalarını kontrol edin"})]})]})]}):(0,r.jsx)(n.default,{listings:a,loading:!1,error:null,showPagination:!1})]})]})})}},55233:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})},74500:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})},78046:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},82771:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},84835:(e,t,a)=>{Promise.resolve().then(a.bind(a,37042))}},e=>{e.O(0,[6874,3063,4360,6388,8441,5964,7358],()=>e(e.s=84835)),_N_E=e.O()}]);