(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7030],{381:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},12926:(e,t,r)=>{"use strict";r.d(t,{As:()=>c,default:()=>d});var s=r(95155),a=r(12115),l=r(50626);let i=(0,a.createContext)(void 0);function n(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[n,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/session");if(e.ok){let t=await e.json();t.user&&l({user:t.user})}}catch(e){console.error("Auth check failed:",e)}finally{c(!1)}})()},[]),(0,s.jsx)(i.Provider,{value:{session:r,isLoading:n,setSession:l},children:t})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}let o=(0,a.createContext)(void 0);function u(e){let{children:t}=e,[r,i]=(0,a.useState)("tr"),[n,c]=(0,a.useState)(0);return(0,a.useEffect)(()=>(l.Ru.loadLocaleFromStorage(),i(l.Ru.getCurrentLocale()),l.Ru.onLocaleChange(e=>{i(e),c(e=>e+1),window.location.reload()})),[]),(0,s.jsx)(o.Provider,{value:{currentLocale:r,setLocale:e=>{l.Ru.setLocale(e)},forceRefresh:()=>{c(e=>e+1),window.location.reload()}},children:(0,s.jsx)("div",{children:t},n)})}function d(e){let{children:t}=e;return(0,s.jsx)(n,{children:(0,s.jsx)(u,{children:t})})}},19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(12115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:o="",children:u,iconNode:d,...m}=e;return(0,s.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:c?24*Number(n)/Number(a):n,className:l("lucide",o),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:c,...o}=r;return(0,s.createElement)(n,{ref:i,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return r.displayName=a(e),r}},32044:(e,t,r)=>{Promise.resolve().then(r.bind(r,81160))},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},81160:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(95155),a=r(12115),l=r(35695),i=r(12926),n=r(381);let c={email:!0,sms:!0,inApp:!0};function o(){let{session:e,isLoading:t}=(0,i.As)(),r=(0,l.useRouter)(),[o,u]=(0,a.useState)([]),[d,m]=(0,a.useState)(!0),[h,x]=(0,a.useState)(null),[f,p]=(0,a.useState)(c);return((0,a.useEffect)(()=>{{let e=localStorage.getItem("notificationPrefs");e&&p(JSON.parse(e))}},[]),(0,a.useEffect)(()=>{localStorage.setItem("notificationPrefs",JSON.stringify(f))},[f]),(0,a.useEffect)(()=>{if(!t){if(!e)return void r.push("/giris");fetch("/api/raporlar").then(e=>e.json()).then(t=>{u(t.filter(t=>t.email===e.user.email)),m(!1)}).catch(()=>{x("Bildirimler y\xfcklenemedi"),m(!1)})}},[e,t,r]),t||d)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Y\xfckleniyor..."}):h?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:h}):e?(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Bildirimlerim"}),(0,s.jsxs)("button",{onClick:()=>r.push("/bildirim-tercihleri"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"w-4 h-4"}),"Tercihleri D\xfczenle"]})]}),(0,s.jsxs)("div",{className:"mb-8 p-4 bg-white rounded shadow border",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Bildirim Tercihleri"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:f.email,onChange:e=>p(t=>({...t,email:e.target.checked}))}),"E-posta ile bildirim almak istiyorum"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:f.sms,onChange:e=>p(t=>({...t,sms:e.target.checked}))}),"SMS ile bildirim almak istiyorum"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:f.inApp,onChange:e=>p(t=>({...t,inApp:e.target.checked}))}),"Uygulama i\xe7i bildirim almak istiyorum"]})]})]}),0===o.length?(0,s.jsx)("div",{className:"text-gray-500",children:"Hi\xe7 bildiriminiz yok."}):(0,s.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,s.jsxs)("div",{className:"p-4 rounded border ".concat(e.read?"bg-gray-50 border-gray-200":"bg-yellow-50 border-yellow-300"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.type}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.date})]}),(0,s.jsx)("div",{className:"mb-1",children:e.subject}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:["Durum: ",e.status]}),(0,s.jsx)("div",{className:"text-xs mt-1",children:e.read?(0,s.jsx)("span",{className:"text-green-600",children:"Okundu"}):(0,s.jsx)("span",{className:"text-yellow-700 font-semibold",children:"OkunmadÄ±"})})]},e.id))})]}):null}}},e=>{e.O(0,[626,8441,5964,7358],()=>e(e.s=32044)),_N_E=e.O()}]);