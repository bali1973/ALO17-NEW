(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9965],{12486:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(19946).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},12926:(e,a,l)=>{"use strict";l.d(a,{As:()=>o,default:()=>m});var r=l(95155),t=l(12115),s=l(50626);let i=(0,t.createContext)(void 0);function n(e){let{children:a}=e,[l,s]=(0,t.useState)(null),[n,o]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/session");if(e.ok){let a=await e.json();a.user&&s({user:a.user})}}catch(e){console.error("Auth check failed:",e)}finally{o(!1)}})()},[]),(0,r.jsx)(i.Provider,{value:{session:l,isLoading:n,setSession:s},children:a})}function o(){let e=(0,t.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}let c=(0,t.createContext)(void 0);function d(e){let{children:a}=e,[l,i]=(0,t.useState)("tr"),[n,o]=(0,t.useState)(0);return(0,t.useEffect)(()=>(s.Ru.loadLocaleFromStorage(),i(s.Ru.getCurrentLocale()),s.Ru.onLocaleChange(e=>{i(e),o(e=>e+1),window.location.reload()})),[]),(0,r.jsx)(c.Provider,{value:{currentLocale:l,setLocale:e=>{s.Ru.setLocale(e)},forceRefresh:()=>{o(e=>e+1),window.location.reload()}},children:(0,r.jsx)("div",{children:a},n)})}function m(e){let{children:a}=e;return(0,r.jsx)(n,{children:(0,r.jsx)(d,{children:a})})}},14186:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(19946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},22732:(e,a,l)=>{"use strict";l.d(a,{C:()=>n,j:()=>i});var r=l(34953),t=l(19667);let s=e=>fetch(e).then(e=>e.json());function i(){let{data:e,error:a}=(0,r.Ay)("/api/categories",s);return{categories:e||[],isLoading:!a&&!e,isError:a}}function n(){(0,t.j)("/api/categories")}},33109:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},35695:(e,a,l)=>{"use strict";var r=l(18999);l.o(r,"useParams")&&l.d(a,{useParams:function(){return r.useParams}}),l.o(r,"usePathname")&&l.d(a,{usePathname:function(){return r.usePathname}}),l.o(r,"useRouter")&&l.d(a,{useRouter:function(){return r.useRouter}}),l.o(r,"useSearchParams")&&l.d(a,{useSearchParams:function(){return r.useSearchParams}})},38564:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(19946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},40646:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},44283:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>j});var r=l(95155),t=l(12115),s=l(35695),i=l(12926),n=l(53311),o=l(14186),c=l(38564),d=l(33109),m=l(54416),u=l(19946);let g=(0,u.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var h=l(92657),x=l(12486),p=l(40646);let y=(0,u.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var f=l(59434),b=l(22732);function j(){var e,a,l,u,j;let{session:v,isLoading:N}=(0,i.As)(),k=(0,s.useRouter)();(0,s.useSearchParams)().get("draft");let[w,A]=(0,t.useState)(!1),[S,P]=(0,t.useState)({title:"",description:"",price:"",category:"",subcategory:"",condition:"",location:"",phone:"",phoneVisibility:"public"}),[z,R]=(0,t.useState)([]),[C,L]=(0,t.useState)(!1),[F,O]=(0,t.useState)("free"),[T,M]=(0,t.useState)(!1),[I,V]=(0,t.useState)([]),[D,E]=(0,t.useState)(!1),[U,J]=(0,t.useState)({}),{categories:q,loading:Y,error:G}=(0,b.j)(),[_,B]=(0,t.useState)([]),[K,H]=(0,t.useState)({featured:0,urgent:0,highlighted:0,top:0}),[Q,$]=(0,t.useState)(!0),W=e=>new Promise((a,l)=>{let r=new FileReader;r.onload=()=>a(r.result),r.onerror=l,r.readAsDataURL(e)});(0,t.useEffect)(()=>{if("1"===new URLSearchParams(window.location.search).get("draft")){let e=localStorage.getItem("ilanDraftData");if(e)try{let a=JSON.parse(e);P({title:a.title||"",description:a.description||"",price:a.price||"",category:a.category||"",subcategory:a.subcategory||"",condition:a.condition||"",location:a.location||"",phone:a.contactPhone||"",phoneVisibility:a.phoneVisibility||"public"}),a.images&&Array.isArray(a.images)&&B(a.images),localStorage.removeItem("ilanDraftData"),setTimeout(()=>{alert("Taslak verileriniz y�klendi! Resimler tekrar eklenmelidir.")},500)}catch(e){console.error("Taslak veri y�klenirken hata:",e)}else{let e=localStorage.getItem("ilanTaslak");if(e)try{let a=JSON.parse(e);a.formData&&P(a.formData),a.selectedPremiumPlan&&O(a.selectedPremiumPlan),a.selectedFeatures&&V(a.selectedFeatures),a.acceptedTerms&&L(a.acceptedTerms),R([]);let l=JSON.parse(localStorage.getItem("ilanImagePreviews")||"[]");B(l),setTimeout(()=>{alert("Resimler taray�c� g�venli�i nedeniyle tekrar eklenmelidir. �nizlemeleri a�a��da g�rebilirsiniz.")},500)}catch(e){}}}},[]),(0,t.useEffect)(()=>{localStorage.setItem("ilanTaslak",JSON.stringify({formData:S,images:z,selectedPremiumPlan:F,selectedFeatures:I,acceptedTerms:C})),localStorage.setItem("ilanImagePreviews",JSON.stringify(_))},[S,z,F,I,C,_]),(0,t.useEffect)(()=>{v?(X(),Z()):k.push("/giris?callbackUrl=/ilan-ver")},[v,k]);let X=async()=>{try{let e=await (0,f.s)();J(e)}catch(e){console.error("Premium planlar� getirme hatas�:",e)}},Z=async()=>{try{let e=await fetch("/api/premium-feature-prices");if(e.ok){let a=await e.json();H(a)}}catch(e){console.error("�zellik fiyatlar� getirme hatas�:",e)}finally{$(!1)}};if(N)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-alo-orange mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Y�kleniyor..."})]})});let ee=async e=>{let a=Array.from(e.target.files||[]);if(z.length+a.length>5)return void alert("Maksimum 5 resim y�kleyebilirsiniz");R([...z,...a]);let l=[..._,...await Promise.all(a.map(W))];B(l),localStorage.setItem("ilanImagePreviews",JSON.stringify(l))},ea=async()=>{var e,a,l,r,t,s,i,n;if(!C)return void alert("Kullan�m ko�ullar�n� kabul etmeniz gerekiyor.");let o=q.find(e=>e.id===S.category),c=!!(null==o||null==(e=o.subCategories)?void 0:e.length);if(!S.title.trim()||!S.description.trim()||!S.price.toString().trim()||!S.category.trim()||c&&!S.subcategory.trim()||!S.condition.trim()||!S.location.trim())return void alert("L�tfen t�m mecburi alanlar� doldurun.");if(null==v||null==(a=v.user)||a.role,"free"!==F||I.length>0){localStorage.setItem("pendingListing",JSON.stringify({formData:S,images:[],selectedPremiumPlan:F,selectedFeatures:I,acceptedTerms:C,user:(null==v||null==(l=v.user)?void 0:l.name)||"Anonim",email:(null==v||null==(r=v.user)?void 0:r.email)||"",userRole:(null==v||null==(t=v.user)?void 0:t.role)||"user"})),k.push("/ilan-odeme");return}E(!0);try{let e=z.map(e=>e?URL.createObjectURL(e):null).filter(Boolean),a={...S,price:parseFloat(S.price),images:e,premiumPlan:F,features:I,subcategory:S.subcategory||null,user:(null==v||null==(s=v.user)?void 0:s.name)||"Anonim",email:(null==v||null==(i=v.user)?void 0:i.email)||"",userRole:(null==v||null==(n=v.user)?void 0:n.role)||"user"},l=localStorage.getItem("alo17-session"),r=await fetch("/api/listings",{method:"POST",headers:{"Content-Type":"application/json",...l?{Authorization:"Bearer ".concat(l)}:{}},body:JSON.stringify(a)});if(r.ok)localStorage.removeItem("ilanTaslak"),localStorage.removeItem("ilanImagePreviews"),await r.json(),alert("�lan ba�ar�yla yay�nland�! Ana sayfada g�r�n�r."),k.push("/");else{let e=await r.json();console.error("API Hatas�:",e),alert(e.error||e.message||"�lan yay�nlan�rken bir hata olu�tu")}}catch(e){console.error("�lan yay�nlama hatas�:",e),alert("�lan yay�nlan�rken bir hata olu�tu. L�tfen tekrar deneyin.")}finally{E(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Yeni İlan Ver"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"İlanınızı yayınlamak i\xe7in aşağıdaki formu doldurun"}),T&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"İlan \xd6nizlemesi"}),(0,r.jsx)("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(m.A,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden cursor-pointer hover:shadow-lg transition-all duration-200",children:[(0,r.jsxs)("div",{className:"relative h-48",children:[z.length>0&&z[0]?(0,r.jsx)("img",{src:URL.createObjectURL(z[0]),alt:S.title,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-500",children:"Resim Yok"})}),(0,r.jsxs)("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:["free"!==F&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,r.jsx)(n.A,{className:"w-3 h-3 mr-1"}),"Premium"]}),I.includes("urgent")&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,r.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Acil"]}),I.includes("featured")&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,r.jsx)(c.A,{className:"w-3 h-3 mr-1"}),"�ne ��kan"]})]}),(0,r.jsx)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:"0 g�r�nt�lenme"})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:S.title||"İlan Başlığı"}),(0,r.jsx)("p",{className:"text-xl font-bold text-alo-orange mb-2",children:"ucretsiz-gel-al"===S.category?"�cretsiz Gel Al":S.price&&!isNaN(Number(S.price))?"".concat(Number(S.price).toLocaleString("tr-TR")," ₺"):"Fiyat"}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-gray-500 mb-2",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-sm",children:S.location||"Konum"})}),(0,r.jsx)("span",{className:"text-xs",children:new Date().toLocaleDateString("tr-TR")})]}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:S.description||"İlan a\xe7ıklaması"}),I.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:I.map((e,a)=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:["featured"===e&&(0,r.jsx)(c.A,{className:"w-3 h-3 mr-1 text-yellow-500"}),"urgent"===e&&(0,r.jsx)(o.A,{className:"w-3 h-3 mr-1 text-red-500"}),"highlighted"===e&&(0,r.jsx)(n.A,{className:"w-3 h-3 mr-1 text-blue-500"}),"top"===e&&(0,r.jsx)(d.A,{className:"w-3 h-3 mr-1 text-green-500"}),(0,r.jsxs)("span",{children:["featured"===e?"\xd6ne \xc7ıkan":"urgent"===e?"Acil":"highlighted"===e?"Vurgulanmış":"top"===e?"\xdcst Sırada":e," (",K[e]||0,"₺)"]})]},a))})]})]}),{})}),(0,r.jsx)("div",{className:"mt-4 text-center text-sm text-gray-600",children:"İlanınız anasayfada bu şekilde g\xf6r\xfcnecek"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("form",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"İlan Başlığı *"}),(0,r.jsx)("input",{id:"title",type:"text",value:S.title,onChange:e=>P({...S,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"İlan başlığını girin",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiyat (₺) *"}),(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)("input",{id:"price",type:"number",value:S.price,onChange:e=>P({...S,price:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"0",required:"ucretsiz-gel-al"!==S.category,disabled:"ucretsiz-gel-al"===S.category})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"A\xe7ıklama *"}),(0,r.jsx)("textarea",{id:"description",value:S.description,onChange:e=>P({...S,description:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"İlan a\xe7ıklamasını girin",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),(0,r.jsxs)("select",{id:"category",value:S.category,onChange:e=>{let a=e.target.value,l="ucretsiz-gel-al"===a;P({...S,category:a,subcategory:"",price:l?"0":S.price})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",required:!0,disabled:Y,children:[(0,r.jsx)("option",{value:"",children:"Kategori se\xe7in"}),q.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),S.category&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"subcategory",className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Kategori *"}),(0,r.jsxs)("select",{id:"subcategory",value:S.subcategory,onChange:e=>P({...S,subcategory:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",required:!!(null==(a=q.find(e=>e.id===S.category))||null==(e=a.subCategories)?void 0:e.length),disabled:Y||!S.category,children:[(0,r.jsx)("option",{value:"",children:"Alt kategori se\xe7in"}),0===((null==(l=q.find(e=>e.id===S.category))?void 0:l.subCategories)||[]).length?(0,r.jsx)("option",{value:"",disabled:!0,children:"Bu kategoriye ait alt kategori yok"}):((null==(u=q.find(e=>e.id===S.category))?void 0:u.subCategories)||[]).map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-2",children:"Durum *"}),(0,r.jsxs)("select",{id:"condition",value:S.condition,onChange:e=>P({...S,condition:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Durum se\xe7in"}),(0,r.jsx)("option",{value:"Yeni",children:"Yeni"}),(0,r.jsx)("option",{value:"�kinci El",children:"�kinci El"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Lokasyon *"}),(0,r.jsx)("input",{type:"text",id:"location",value:S.location,onChange:e=>P({...S,location:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",required:!0,placeholder:"Şehir veya semt girin"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon Numarası"}),(0,r.jsx)("input",{id:"phone",type:"tel",value:S.phone,onChange:e=>P({...S,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"0555 123 45 67"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phoneVisibility",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon G\xf6r\xfcn\xfcrl\xfcğ\xfc"}),(0,r.jsxs)("select",{id:"phoneVisibility",value:S.phoneVisibility,onChange:e=>P({...S,phoneVisibility:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",children:[(0,r.jsx)("option",{value:"public",children:"Herkese A\xe7ık"}),(0,r.jsx)("option",{value:"private",children:"Gizli"}),(0,r.jsx)("option",{value:"message_only",children:"Sadece Mesaj Yoluyla"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["public"===S.phoneVisibility&&"Telefon numaranız ilan sayfasında g\xf6r\xfcnecek","private"===S.phoneVisibility&&"Telefon numaranız hi\xe7bir yerde g\xf6r\xfcnmeyecek","message_only"===S.phoneVisibility&&"Telefon numaranız sadece mesaj g\xf6nderenlere iletilecek"]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"�ste�e Ba�l� �zellikler"}),Q?(0,r.jsx)("div",{children:"Y\xfckleniyor..."}):K&&Object.keys(K).length>0?(0,r.jsx)("div",{className:"flex flex-wrap gap-4",children:Object.entries(K).map(e=>{let[a,l]=e;return(0,r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:I.includes(a),onChange:e=>{V(l=>e.target.checked?[...l,a]:l.filter(e=>e!==a))},className:"rounded border-gray-300 text-alo-orange focus:ring-alo-orange"}),(0,r.jsxs)("span",{className:"text-sm",children:["featured"===a&&"�ne ��kan","urgent"===a&&"Acil","highlighted"===a&&"Vurgulanm��","top"===a&&"�stte G�sterim"," ","(+",l,"₺)"]})]},a)})}):(0,r.jsx)("div",{children:"zellik bulunamad"}),I.length>0&&!Q&&(0,r.jsxs)("div",{className:"mt-2 text-sm text-gray-700",children:["Se�ili �zellikler toplam�: ",(0,r.jsxs)("span",{className:"font-semibold",children:[I.reduce((e,a)=>e+(K[a]||0),0),"₺"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Resimler (",z.length,"/5)"]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,r.jsx)(g,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Resim y\xfcklemek i\xe7in tıklayın veya s\xfcr\xfckleyin"}),(0,r.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:ee,className:"hidden",id:"image-upload"}),(0,r.jsx)("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 bg-alo-orange text-white rounded-md hover:bg-orange-600 transition-colors cursor-pointer",children:"Resim Se\xe7"})]}),z.length>0&&(0,r.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:z.map((e,a)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:URL.createObjectURL(e),alt:"Resim ".concat(a+1),className:"w-full h-24 object-cover rounded-lg"}),(0,r.jsx)("button",{type:"button",onClick:()=>(e=>{R(z.filter((a,l)=>l!==e));let a=_.filter((a,l)=>l!==e);B(a),localStorage.setItem("ilanImagePreviews",JSON.stringify(a))})(a),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:(0,r.jsx)(m.A,{className:"w-4 h-4"})})]},a))})]}),_.length>0&&0===z.length&&(0,r.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:_.map((e,a)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:e,alt:"\xd6nizleme ".concat(a+1),className:"w-full h-24 object-cover rounded-lg opacity-50"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-white bg-black bg-opacity-60 rounded-lg",children:"Resmi tekrar se\xe7in"})]},a))}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"terms",type:"checkbox",checked:C,onChange:e=>L(e.target.checked),className:"rounded border-gray-300 text-alo-orange focus:ring-alo-orange"}),(0,r.jsxs)("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-700",children:[(0,r.jsx)("a",{href:"/kullanim-kosullari",className:"text-alo-orange hover:underline",children:"Kullan�m ko�ullar�n�"})," kabul ediyorum"]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{var e,a,l;console.log("formData:",S);let r=q.find(e=>e.id===S.category),t=!!(null==r||null==(e=r.subCategories)?void 0:e.length);if(!S.title.trim()||!S.description.trim()||!S.price||isNaN(Number(S.price))||0>=Number(S.price)||!S.category.trim()||t&&(!S.subcategory||!S.subcategory.trim())||!S.condition.trim()||!S.location.trim())return void alert("�nizleme i�in l�tfen t�m mecburi alanlar� doldurun.");let s=z.map(e=>URL.createObjectURL(e)),i=new URLSearchParams({title:S.title,description:S.description,price:S.price,category:S.category,subcategory:S.subcategory,condition:S.condition,location:S.location,contactPhone:S.phone,phoneVisibility:S.phoneVisibility,contactEmail:(null==v||null==(a=v.user)?void 0:a.email)||"",sellerName:(null==v||null==(l=v.user)?void 0:l.name)||"",images:JSON.stringify(s)});k.push("/ilan-onizleme?".concat(i.toString()))},className:"px-6 py-3 border border-alo-orange text-alo-orange rounded-md hover:bg-orange-50 transition-colors flex items-center gap-2 font-medium",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),"�nizle"]}),(0,r.jsx)("button",{type:"button",onClick:ea,disabled:D,className:"px-8 py-3 bg-alo-orange text-white rounded-md hover:bg-orange-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Yay�nlan�yor..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{className:"w-4 h-4"}),"�lan� Yay�nla"]})})]})]})})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Premium Planlar"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"�lan�n�z� daha fazla ki�iye ula�t�rmak i�in premium plan se�in"}),(0,r.jsxs)("div",{className:"border rounded-lg p-4 mb-4 cursor-pointer transition-all ".concat("free"===F?"border-alo-orange bg-orange-50":"border-gray-200 hover:border-gray-300"),onClick:()=>O("free"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"�cretsiz Plan"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-green-600",children:"0₺"})]}),(0,r.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 text-green-500 mr-2"}),"30 gncretsiz premium"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 text-green-500 mr-2"}),"Maksimum 5 resim"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 text-green-500 mr-2"}),"Temel �zellikler"]})]})]}),Object.entries(U).map(e=>{let[a,l]=e;return(0,r.jsxs)("div",{className:"border rounded-lg p-4 mb-4 cursor-pointer transition-all ".concat(F===a?"border-alo-orange bg-orange-50":"border-gray-200 hover:border-gray-300"),onClick:()=>O(a),children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mb-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-alo-orange mb-1"}),(0,r.jsx)("h3",{className:"font-bold text-alo-orange text-lg text-center",children:"90 G�n"===l.name?"90 G�nl�k Premium":"365 G�n"===l.name?"365 G�nl�k Premium":l.name}),(0,r.jsxs)("span",{className:"text-2xl font-extrabold text-gray-900 mt-1",children:[l.price,"₺"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[l.days," gn premium"]})]}),(0,r.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1 mt-2",children:[(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 text-green-500 mr-2"}),"Maksimum 5 resim"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 text-green-500 mr-2"}),"�ne ��kan rozet"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 text-green-500 mr-2"}),"�ncelikli s�ralama"]})]})]},a)}),"free"!==F&&(0,r.jsx)("div",{className:"border-t pt-4 mt-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Toplam:"}),(0,r.jsxs)("span",{className:"text-xl font-bold text-alo-orange",children:["free"===F?0:(null==(j=U[F])?void 0:j.price)||0,"₺"]})]})}),(0,r.jsx)("div",{className:"mt-6 bg-blue-50 p-4 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(y,{className:"w-5 h-5 text-blue-500 mr-2 mt-0.5"}),(0,r.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,r.jsx)("p",{className:"font-medium mb-1",children:"Premium Avantajlar�:"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:"� �lan�n�z �ne ��kar�l�r"}),(0,r.jsx)("li",{children:"� Daha fazla g�r�nt�lenme"}),(0,r.jsx)("li",{children:"� �ncelikli s�ralama"}),(0,r.jsx)("li",{children:"� Premium rozet"})]})]})]})})]})})]})]})})}},53311:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(19946).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},53597:(e,a,l)=>{Promise.resolve().then(l.bind(l,44283))},54416:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},59434:(e,a,l)=>{"use strict";l.d(a,{cn:()=>s,s:()=>i});var r=l(52596),t=l(39688);function s(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return(0,t.QP)((0,r.$)(a))}async function i(){try{let e=await fetch("/api/premium/plans");if(e.ok)return(await e.json()).plans||[];return[]}catch(e){return console.error("Premium planları alınamadı:",e),[]}}},92657:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{e.O(0,[4953,7598,626,8441,5964,7358],()=>e(e.s=53597)),_N_E=e.O()}]);