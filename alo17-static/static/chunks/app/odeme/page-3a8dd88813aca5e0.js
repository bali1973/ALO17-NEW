(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9689],{62283:(e,a,t)=>{Promise.resolve().then(t.bind(t,67015))},67015:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var l=t(95155),r=t(12115);function n(){let[e,a]=(0,r.useState)(null),[t,n]=(0,r.useState)(null),[s,d]=(0,r.useState)(!1),[i,o]=(0,r.useState)("bireysel"),[u,m]=(0,r.useState)({name:"",tc:"",email:"",phone:"",address:"",company:"",taxOffice:"",taxNo:"",authorized:""}),p=e=>{m({...u,[e.target.name]:e.target.value})},c=async e=>{e.preventDefault(),n(null),a(null),d(!0);try{let e=await fetch("/api/paytr-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_ip:"127.0.0.1",merchant_oid:"ORDER"+Date.now(),email:u.email,payment_amount:1e3,product_name:"Test \xdcr\xfcn",product_price:"10.00",user_name:u.name,user_address:u.address,user_phone:u.phone,ok_url:"https://alo17.netlify.app/odeme/basarili",fail_url:"https://alo17.netlify.app/odeme/basarisiz",test_mode:"1",payment_type:i,tc:u.tc,company:u.company,taxOffice:u.taxOffice,taxNo:u.taxNo,authorized:u.authorized})}),t=await e.json();e.ok&&t.iframe?a(t.iframe):n(t.error||"\xd6deme başlatılamadı")}catch(e){n("Sunucu hatası. L\xfctfen tekrar deneyin.")}finally{d(!1)}};return(0,l.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 py-8",children:(0,l.jsxs)("div",{className:"bg-white p-8 rounded shadow w-full max-w-md",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"\xd6deme Yap"}),(0,l.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"paymentType",value:"bireysel",checked:"bireysel"===i,onChange:()=>o("bireysel"),className:"mr-2"}),"Bireysel"]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"paymentType",value:"kurumsal",checked:"kurumsal"===i,onChange:()=>o("kurumsal"),className:"mr-2"}),"Kurumsal"]})]}),"bireysel"===i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"text",name:"name",placeholder:"Ad Soyad",value:u.name,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0}),(0,l.jsx)("input",{type:"text",name:"tc",placeholder:"TC Kimlik No",value:u.tc,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"text",name:"company",placeholder:"Şirket \xdcnvanı",value:u.company,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0}),(0,l.jsx)("input",{type:"text",name:"taxOffice",placeholder:"Vergi Dairesi",value:u.taxOffice,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0}),(0,l.jsx)("input",{type:"text",name:"taxNo",placeholder:"Vergi No",value:u.taxNo,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0}),(0,l.jsx)("input",{type:"text",name:"authorized",placeholder:"Yetkili Ad Soyad",value:u.authorized,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0})]}),(0,l.jsx)("input",{type:"email",name:"email",placeholder:"E-posta",value:u.email,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0}),(0,l.jsx)("input",{type:"text",name:"phone",placeholder:"Telefon",value:u.phone,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0}),(0,l.jsx)("textarea",{name:"address",placeholder:"Adres",value:u.address,onChange:p,className:"w-full border px-3 py-2 rounded",required:!0}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-semibold hover:bg-blue-700 transition",disabled:s,children:s?"Y\xfckleniyor...":"\xd6deme Sayfasına Ge\xe7"})]}),t&&(0,l.jsx)("div",{className:"mt-4 text-red-600 text-center",children:t}),e&&(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})})]})})}}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=62283)),_N_E=e.O()}]);