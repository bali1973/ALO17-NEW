(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{12926:(e,s,r)=>{"use strict";r.d(s,{As:()=>i,default:()=>h});var a=r(95155),n=r(12115),u=r(50626);let c=(0,n.createContext)(void 0);function l(e){let{children:s}=e,[r,u]=(0,n.useState)(null),[l,i]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/session");if(e.ok){let s=await e.json();s.user&&u({user:s.user})}}catch(e){console.error("Auth check failed:",e)}finally{i(!1)}})()},[]),(0,a.jsx)(c.Provider,{value:{session:r,isLoading:l,setSession:u},children:s})}function i(){let e=(0,n.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}let o=(0,n.createContext)(void 0);function d(e){let{children:s}=e,[r,c]=(0,n.useState)("tr"),[l,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>(u.Ru.loadLocaleFromStorage(),c(u.Ru.getCurrentLocale()),u.Ru.onLocaleChange(e=>{c(e),i(e=>e+1),window.location.reload()})),[]),(0,a.jsx)(o.Provider,{value:{currentLocale:r,setLocale:e=>{u.Ru.setLocale(e)},forceRefresh:()=>{i(e=>e+1),window.location.reload()}},children:(0,a.jsx)("div",{children:s},l)})}function h(e){let{children:s}=e;return(0,a.jsx)(l,{children:(0,a.jsx)(d,{children:s})})}},35695:(e,s,r)=>{"use strict";var a=r(18999);r.o(a,"useParams")&&r.d(s,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},49620:(e,s,r)=>{Promise.resolve().then(r.bind(r,77891))},77891:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var a=r(95155),n=r(12115),u=r(35695),c=r(12926);function l(){let{session:e,isLoading:s}=(0,c.As)(),r=(0,u.useRouter)(),[l,i]=(0,n.useState)([]),[o,d]=(0,n.useState)(!0),[h,m]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(!s){if(!e)return void r.push("/giris");fetch("/api/messages?type=received").then(e=>e.json()).then(s=>{i(s.filter(s=>s.to===e.user.email)),d(!1)}).catch(()=>{m(t("messages_load_error")),d(!1)})}},[e,s,r,t]),s||o)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:'""'}):h?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:h}):e?(0,a.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:'""'}),0===l.length?(0,a.jsx)("div",{className:"text-gray-500",children:'""'}):(0,a.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,a.jsxs)("div",{className:"p-4 rounded border ".concat(e.read?"bg-gray-50 border-gray-200":"bg-blue-50 border-blue-300"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"font-semibold",children:e.from}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.date})]}),(0,a.jsx)("div",{className:"mb-1",children:e.subject}),(0,a.jsx)("div",{className:"text-xs mt-1",children:e.read?(0,a.jsx)("span",{className:"text-green-600",children:'""'}):(0,a.jsx)("span",{className:"text-blue-700 font-semibold",children:'""'})})]},e.id))})]}):null}}},e=>{e.O(0,[626,8441,5964,7358],()=>e(e.s=49620)),_N_E=e.O()}]);