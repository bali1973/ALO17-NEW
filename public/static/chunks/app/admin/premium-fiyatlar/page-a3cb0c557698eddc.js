(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{4229:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(90602).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},4702:(e,a,t)=>{"use strict";t.d(a,{d:()=>i,t:()=>n});var r=t(95155),s=t(12115);let l=(0,s.createContext)(void 0);function i(){let e=(0,s.useContext)(l);if(!e)throw Error("useToast must be used within ToastProvider");return e}function n(e){let{children:a}=e,[t,i]=(0,s.useState)([]);return(0,r.jsxs)(l.Provider,{value:{showToast:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=Date.now();i(r=>[...r,{id:t,message:e,type:a}]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==t))},3500)}},children:[a,(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,r.jsx)("div",{className:"px-4 py-2 rounded shadow text-white transition-all\n              ".concat("success"===e.type?"bg-green-600":"error"===e.type?"bg-red-600":"bg-blue-600"),children:e.message},e.id))})]})}},12926:(e,a,t)=>{"use strict";t.d(a,{A:()=>n,default:()=>d});var r=t(95155),s=t(12115),l=t(4702);let i=(0,s.createContext)(void 0);function n(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e){let{children:a}=e,[t,n]=(0,s.useState)(null),[d,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=localStorage.getItem("alo17-session");if(e)try{let a=JSON.parse(e);new Date(a.expires)>new Date?n(a):localStorage.removeItem("alo17-session")}catch(e){localStorage.removeItem("alo17-session")}o(!1)},[]),(0,r.jsx)(l.t,{children:(0,r.jsx)(i.Provider,{value:{session:t,setSession:e=>{n(e),e?localStorage.setItem("alo17-session",JSON.stringify(e)):localStorage.removeItem("alo17-session")},isLoading:d},children:a})})}},35695:(e,a,t)=>{"use strict";var r=t(18999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},37108:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(90602).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},47147:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var r=t(12115),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},l=t(66977);let i=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:a,...s,width:i,height:i,stroke:t,strokeWidth:d?24*Number(n)/Number(i):n,className:(0,l.zP)("lucide",o),...!c&&!(0,l.m$)(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(c)?c:[c]])})},49810:(e,a,t)=>{Promise.resolve().then(t.bind(t,96257))},55868:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(90602).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},66977:(e,a,t)=>{"use strict";t.d(a,{MX:()=>l,fX:()=>r,m$:()=>n,zP:()=>i});let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),l=e=>{let a=s(e);return a.charAt(0).toUpperCase()+a.slice(1)},i=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()},n=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0}},69074:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(90602).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},90602:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var r=t(12115),s=t(66977),l=t(47147);let i=(e,a)=>{let t=(0,r.forwardRef)((t,i)=>{let{className:n,...d}=t;return(0,r.createElement)(l.A,{ref:i,iconNode:a,className:(0,s.zP)("lucide-".concat((0,s.fX)((0,s.MX)(e))),"lucide-".concat(e),n),...d})});return t.displayName=(0,s.MX)(e),t}},96257:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var r=t(95155),s=t(12115),l=t(12926),i=t(35695),n=t(37108),d=t(55868),o=t(69074),c=t(4229);function u(){let{session:e,isLoading:a}=(0,l.A)(),t=(0,i.useRouter)(),[u,m]=(0,s.useState)([]),[h,x]=(0,s.useState)(!0),[p,g]=(0,s.useState)(!1),[y,f]=(0,s.useState)("");(0,s.useEffect)(()=>{e?"admin"!==e.user.role?t.push("/"):b():t.push("/giris?callbackUrl=/admin/premium-fiyatlar")},[e,t]);let b=async()=>{try{let e=await fetch("/api/premium-plans");if(e.ok){let a=await e.json();m(a)}}catch(e){console.error("Premium planları getirme hatası:",e)}finally{x(!1)}},v=(e,a)=>{m(t=>t.map(t=>t.key===e?{...t,price:a}:t))},j=(e,a)=>{m(t=>t.map(t=>t.key===e?{...t,name:a}:t))},N=async()=>{g(!0),f("");try{let e=await fetch("/api/premium-plans",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({plans:u})});if(e.ok)f("Premium planlar başarıyla g\xfcncellendi!"),setTimeout(()=>f(""),3e3);else{let a=await e.json();f(a.message||"G\xfcncelleme sırasında bir hata oluştu")}}catch(e){console.error("G\xfcncelleme hatası:",e),f("G\xfcncelleme sırasında bir hata oluştu")}finally{g(!1)}};return a||h?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-alo-orange mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Y\xfckleniyor..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Premium Fiyat Y\xf6netimi"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Premium ilan planlarının fiyatlarını d\xfczenleyin"})]}),y&&(0,r.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat(y.includes("başarıyla")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:y}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("div",{className:"grid gap-6",children:u.map(e=>(0,r.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("div",{className:"p-3 bg-alo-orange bg-opacity-10 rounded-lg",children:(0,r.jsx)(n.A,{className:"w-6 h-6 text-alo-orange"})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"text",value:e.name,onChange:a=>j(e.key,a.target.value),className:"text-xl font-semibold bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-alo-orange rounded px-2 py-1"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 inline mr-1"}),"Fiyat (₺)"]}),(0,r.jsx)("input",{type:"number",value:e.price,onChange:a=>v(e.key,parseFloat(a.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",min:"0",step:"0.01"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 inline mr-1"}),"S\xfcre (G\xfcn)"]}),(0,r.jsx)("input",{type:"number",value:e.days,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"S\xfcre değiştirilemez"})]})]}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("strong",{children:"Plan Anahtarı:"})," ",e.key]})})]},e.key))}),(0,r.jsx)("div",{className:"mt-8 flex justify-end",children:(0,r.jsx)("button",{onClick:N,disabled:p,className:"px-6 py-3 bg-alo-orange text-white rounded-md hover:bg-orange-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Kaydediliyor..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-4 h-4"}),"Değişiklikleri Kaydet"]})})})]}),(0,r.jsxs)("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"Bilgi"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,r.jsx)("li",{children:"• Fiyat değişiklikleri anında t\xfcm kullanıcılara yansır"}),(0,r.jsx)("li",{children:"• \xdccretsiz plan (free) fiyatı 0 olarak kalmalıdır"}),(0,r.jsx)("li",{children:"• Plan anahtarları değiştirilemez"}),(0,r.jsx)("li",{children:"• S\xfcre değerleri değiştirilemez"})]})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8441,1684,7358],()=>a(49810)),_N_E=e.O()}]);