(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9965],{4702:(e,a,t)=>{"use strict";t.d(a,{d:()=>i,t:()=>n});var l=t(95155),r=t(12115);let s=(0,r.createContext)(void 0);function i(){let e=(0,r.useContext)(s);if(!e)throw Error("useToast must be used within ToastProvider");return e}function n(e){let{children:a}=e,[t,i]=(0,r.useState)([]);return(0,l.jsxs)(s.Provider,{value:{showToast:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=Date.now();i(l=>[...l,{id:t,message:e,type:a}]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==t))},3500)}},children:[a,(0,l.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,l.jsx)("div",{className:"px-4 py-2 rounded shadow text-white transition-all\n              ".concat("success"===e.type?"bg-green-600":"error"===e.type?"bg-red-600":"bg-blue-600"),children:e.message},e.id))})]})}},12486:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},12926:(e,a,t)=>{"use strict";t.d(a,{A:()=>n,default:()=>o});var l=t(95155),r=t(12115),s=t(4702);let i=(0,r.createContext)(void 0);function n(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function o(e){let{children:a}=e,[t,n]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=localStorage.getItem("alo17-session");if(e)try{let a=JSON.parse(e);new Date(a.expires)>new Date?n(a):localStorage.removeItem("alo17-session")}catch(e){localStorage.removeItem("alo17-session")}c(!1)},[]),(0,l.jsx)(s.t,{children:(0,l.jsx)(i.Provider,{value:{session:t,setSession:e=>{n(e),e?localStorage.setItem("alo17-session",JSON.stringify(e)):localStorage.removeItem("alo17-session")},isLoading:o},children:a})})}},14186:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},22732:(e,a,t)=>{"use strict";t.d(a,{C:()=>s,j:()=>i});var l=t(12115);let r="categories-updated",s=()=>{localStorage.setItem("categories-last-updated",Date.now().toString()),window.dispatchEvent(new CustomEvent(r))};function i(){let[e,a]=(0,l.useState)([]),[t,s]=(0,l.useState)(!0),[i,n]=(0,l.useState)(null),[o,c]=(0,l.useState)(0),d=async()=>{try{s(!0),n(null);let e=await fetch("/api/categories");if(e.ok){let t=await e.json();a(t),s(!1);return}let t=await fetch("/categories.json");if(t.ok){let e=await t.json();a(e),s(!1);return}throw Error("Kategoriler y\xfcklenemedi")}catch(e){console.error("Kategoriler y\xfcklenirken hata:",e),n("Kategoriler y\xfcklenemedi"),s(!1)}};return(0,l.useEffect)(()=>{d();let e=()=>{console.log("Kategori g\xfcncelleme eventi alındı, kategoriler yenileniyor..."),d()},a=e=>{if("categories-last-updated"===e.key){let a=parseInt(e.newValue||"0");a>o&&(console.log("LocalStorage kategori g\xfcncellemesi algılandı"),c(a),d())}};return window.addEventListener(r,e),window.addEventListener("storage",a),()=>{window.removeEventListener(r,e),window.removeEventListener("storage",a)}},[o]),{categories:e,loading:t,error:i,refetch:d}}},23571:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var l=t(95155),r=t(12115),s=t(35695),i=t(12926),n=t(53311),o=t(14186),c=t(38564),d=t(33109),m=t(54416),u=t(29869),g=t(92657),x=t(12486),h=t(40646),p=t(81284),y=t(59434),b=t(22732);let f=[{key:"featured",label:"\xd6ne \xc7ıkan",price:50},{key:"urgent",label:"Acil",price:30},{key:"highlighted",label:"Vurgulanmış",price:25},{key:"top",label:"\xdcstte",price:40}];function j(){var e,a,t,j;let{session:v,isLoading:N}=(0,i.A)(),k=(0,s.useRouter)(),[w,A]=(0,r.useState)(!1),[S,P]=(0,r.useState)({title:"",description:"",price:"",category:"",subcategory:"",condition:"",location:"",phone:"",phoneVisibility:"public"}),[z,C]=(0,r.useState)([]),[L,R]=(0,r.useState)(!1),[T,I]=(0,r.useState)("free"),[E,F]=(0,r.useState)(!1),[M,O]=(0,r.useState)([]),[D,V]=(0,r.useState)(!1),[U,J]=(0,r.useState)({}),{categories:K,loading:q,error:Y}=(0,b.j)(),[_,B]=(0,r.useState)([]),G=e=>new Promise((a,t)=>{let l=new FileReader;l.onload=()=>a(l.result),l.onerror=t,l.readAsDataURL(e)});(0,r.useEffect)(()=>{if("1"===new URLSearchParams(window.location.search).get("draft")){let e=localStorage.getItem("ilanTaslak");if(e)try{let a=JSON.parse(e);a.formData&&P(a.formData),a.selectedPremiumPlan&&I(a.selectedPremiumPlan),a.selectedFeatures&&O(a.selectedFeatures),a.acceptedTerms&&R(a.acceptedTerms),C([]);let t=JSON.parse(localStorage.getItem("ilanImagePreviews")||"[]");B(t),setTimeout(()=>{alert("Resimler tarayıcı g\xfcvenliği nedeniyle tekrar eklenmelidir. \xd6nizlemeleri aşağıda g\xf6rebilirsiniz.")},500)}catch(e){}}},[]),(0,r.useEffect)(()=>{localStorage.setItem("ilanTaslak",JSON.stringify({formData:S,images:z,selectedPremiumPlan:T,selectedFeatures:M,acceptedTerms:L})),localStorage.setItem("ilanImagePreviews",JSON.stringify(_))},[S,z,T,M,L,_]),(0,r.useEffect)(()=>{v?H():k.push("/giris?callbackUrl=/ilan-ver")},[v,k]);let H=async()=>{try{let e=await (0,y.sT)();J(e)}catch(e){console.error("Premium planları getirme hatası:",e)}};if(N)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-alo-orange mx-auto"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"Y\xfckleniyor..."})]})});let Q=async e=>{let a=Array.from(e.target.files||[]);if(z.length+a.length>5)return void alert("Maksimum 5 resim y\xfckleyebilirsiniz");C([...z,...a]);let t=[..._,...await Promise.all(a.map(G))];B(t),localStorage.setItem("ilanImagePreviews",JSON.stringify(t))},$=e=>{C(z.filter((a,t)=>t!==e));let a=_.filter((a,t)=>t!==e);B(a),localStorage.setItem("ilanImagePreviews",JSON.stringify(a))},W=()=>{var e;return"free"===T?0:(null==(e=U[T])?void 0:e.price)||0},X=async()=>{var e,a,t,l,r,s;if(!L)return void alert("Kullanım koşullarını kabul etmeniz gerekiyor.");let i=K.find(e=>e.id===S.category),n=!!(null==i||null==(e=i.subCategories)?void 0:e.length);if(!S.title.trim()||!S.description.trim()||!S.price.toString().trim()||!S.category.trim()||n&&!S.subcategory.trim()||!S.condition.trim()||!S.location.trim())return void alert("L\xfctfen t\xfcm mecburi alanları doldurun.");if((null==v||null==(a=v.user)?void 0:a.role)!=="admin"&&"free"!==T){let e=W(),a=(null==(t=U[T])?void 0:t.name)||T;if(!confirm("".concat(a," premium plan i\xe7in ").concat(e,"₺ \xf6deme yapılacak. Devam etmek istiyor musunuz?")))return}V(!0);try{let e=z.map(e=>e?URL.createObjectURL(e):null).filter(Boolean),a={...S,price:parseFloat(S.price),images:e,premiumPlan:T,features:M,subcategory:S.subcategory||null,user:(null==v||null==(l=v.user)?void 0:l.name)||"Anonim",email:(null==v||null==(r=v.user)?void 0:r.email)||"",userRole:(null==v||null==(s=v.user)?void 0:s.role)||"user"},t=localStorage.getItem("alo17-session"),i=await fetch("/api/listings",{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:"Bearer ".concat(t)}:{}},body:JSON.stringify(a)});if(i.ok)localStorage.removeItem("ilanTaslak"),localStorage.removeItem("ilanImagePreviews"),await i.json(),alert("İlan başarıyla yayınlandı! Ana sayfada g\xf6r\xfcn\xfcr."),k.push("/");else{let e=await i.json();console.error("API Hatası:",e),alert(e.error||e.message||"İlan yayınlanırken bir hata oluştu")}}catch(e){console.error("İlan yayınlama hatası:",e),alert("İlan yayınlanırken bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{V(!1)}};return(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Yeni İlan Ver"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"İlanınızı yayınlamak i\xe7in aşağıdaki formu doldurun"}),E&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"İlan \xd6nizlemesi"}),(0,l.jsx)("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(m.A,{className:"w-5 h-5"})})]}),(0,l.jsx)("div",{className:"max-w-md mx-auto",children:(0,l.jsx)(()=>(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden cursor-pointer hover:shadow-lg transition-all duration-200",children:[(0,l.jsxs)("div",{className:"relative h-48",children:[z.length>0&&z[0]?(0,l.jsx)("img",{src:URL.createObjectURL(z[0]),alt:S.title,className:"w-full h-full object-cover"}):(0,l.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-gray-500",children:"Resim Yok"})}),(0,l.jsxs)("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:["free"!==T&&(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,l.jsx)(n.A,{className:"w-3 h-3 mr-1"}),"Premium"]}),M.includes("urgent")&&(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,l.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Acil"]}),M.includes("featured")&&(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,l.jsx)(c.A,{className:"w-3 h-3 mr-1"}),"\xd6ne \xc7ıkan"]})]}),(0,l.jsx)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:"0 g\xf6r\xfcnt\xfclenme"})]}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:S.title||"İlan Başlığı"}),(0,l.jsx)("p",{className:"text-xl font-bold text-alo-orange mb-2",children:S.price&&!isNaN(Number(S.price))?"".concat(Number(S.price).toLocaleString("tr-TR")," ₺"):"Fiyat"}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-gray-500 mb-2",children:[(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("span",{className:"text-sm",children:S.location||"Konum"})}),(0,l.jsx)("span",{className:"text-xs",children:new Date().toLocaleDateString("tr-TR")})]}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:S.description||"İlan a\xe7ıklaması"}),M.length>0&&(0,l.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:M.map((e,a)=>{let t=f.find(a=>a.key===e);return(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:["featured"===e&&(0,l.jsx)(c.A,{className:"w-3 h-3 mr-1 text-yellow-500"}),"urgent"===e&&(0,l.jsx)(o.A,{className:"w-3 h-3 mr-1 text-red-500"}),"highlighted"===e&&(0,l.jsx)(n.A,{className:"w-3 h-3 mr-1 text-blue-500"}),"top"===e&&(0,l.jsx)(d.A,{className:"w-3 h-3 mr-1 text-green-500"}),(0,l.jsx)("span",{children:(null==t?void 0:t.label)||e})]},a)})})]})]}),{})}),(0,l.jsx)("div",{className:"mt-4 text-center text-sm text-gray-600",children:"İlanınız anasayfada bu şekilde g\xf6r\xfcnecek"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,l.jsxs)("form",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"İlan Başlığı *"}),(0,l.jsx)("input",{id:"title",type:"text",value:S.title,onChange:e=>P({...S,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"İlan başlığını girin",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiyat (₺) *"}),(0,l.jsx)("input",{id:"price",type:"number",value:S.price,onChange:e=>P({...S,price:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"0",required:!0})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"A\xe7ıklama *"}),(0,l.jsx)("textarea",{id:"description",value:S.description,onChange:e=>P({...S,description:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"İlan a\xe7ıklamasını girin",required:!0})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),(0,l.jsxs)("select",{id:"category",value:S.category,onChange:e=>P({...S,category:e.target.value,subcategory:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",required:!0,disabled:q,children:[(0,l.jsx)("option",{value:"",children:"Kategori se\xe7in"}),K.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),S.category&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"subcategory",className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Kategori *"}),(0,l.jsxs)("select",{id:"subcategory",value:S.subcategory,onChange:e=>P({...S,subcategory:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",required:!!(null==(a=K.find(e=>e.id===S.category))||null==(e=a.subCategories)?void 0:e.length),disabled:q||!S.category,children:[(0,l.jsx)("option",{value:"",children:"Alt kategori se\xe7in"}),0===((null==(t=K.find(e=>e.id===S.category))?void 0:t.subCategories)||[]).length?(0,l.jsx)("option",{value:"",disabled:!0,children:"Bu kategoriye ait alt kategori yok"}):((null==(j=K.find(e=>e.id===S.category))?void 0:j.subCategories)||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-2",children:"Durum *"}),(0,l.jsxs)("select",{id:"condition",value:S.condition,onChange:e=>P({...S,condition:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Durum se\xe7in"}),(0,l.jsx)("option",{value:"Yeni",children:"Yeni"}),(0,l.jsx)("option",{value:"İkinci El",children:"İkinci El"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Lokasyon *"}),(0,l.jsx)("input",{type:"text",id:"location",value:S.location,onChange:e=>P({...S,location:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",required:!0,placeholder:"Şehir veya semt girin"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon Numarası"}),(0,l.jsx)("input",{id:"phone",type:"tel",value:S.phone,onChange:e=>P({...S,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",placeholder:"0555 123 45 67"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"phoneVisibility",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon G\xf6r\xfcn\xfcrl\xfcğ\xfc"}),(0,l.jsxs)("select",{id:"phoneVisibility",value:S.phoneVisibility,onChange:e=>P({...S,phoneVisibility:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-alo-orange focus:border-transparent",children:[(0,l.jsx)("option",{value:"public",children:"Herkese A\xe7ık"}),(0,l.jsx)("option",{value:"private",children:"Gizli"}),(0,l.jsx)("option",{value:"message_only",children:"Sadece Mesaj Yoluyla"})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["public"===S.phoneVisibility&&"Telefon numaranız ilan sayfasında g\xf6r\xfcnecek","private"===S.phoneVisibility&&"Telefon numaranız hi\xe7bir yerde g\xf6r\xfcnmeyecek","message_only"===S.phoneVisibility&&"Telefon numaranız sadece mesaj g\xf6nderenlere iletilecek"]})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İsteğe Bağlı \xd6zellikler"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-4",children:f.map(e=>(0,l.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:M.includes(e.key),onChange:a=>{O(t=>a.target.checked?[...t,e.key]:t.filter(a=>a!==e.key))},className:"rounded border-gray-300 text-alo-orange focus:ring-alo-orange"}),(0,l.jsxs)("span",{className:"text-sm",children:[e.label," (+",e.price,"₺)"]})]},e.key))}),M.length>0&&(0,l.jsxs)("div",{className:"mt-2 text-sm text-gray-700",children:["Se\xe7ili \xf6zellikler toplamı: ",(0,l.jsxs)("span",{className:"font-semibold",children:[M.reduce((e,a)=>{let t=f.find(e=>e.key===a);return e+(t?t.price:0)},0),"₺"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Resimler (",z.length,"/5)"]}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,l.jsx)(u.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Resim y\xfcklemek i\xe7in tıklayın veya s\xfcr\xfckleyin"}),(0,l.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:Q,className:"hidden",id:"image-upload"}),(0,l.jsx)("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 bg-alo-orange text-white rounded-md hover:bg-orange-600 transition-colors cursor-pointer",children:"Resim Se\xe7"})]}),z.length>0&&(0,l.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:z.map((e,a)=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:URL.createObjectURL(e),alt:"Resim ".concat(a+1),className:"w-full h-24 object-cover rounded-lg"}),(0,l.jsx)("button",{type:"button",onClick:()=>$(a),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:(0,l.jsx)(m.A,{className:"w-4 h-4"})})]},a))})]}),_.length>0&&0===z.length&&(0,l.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:_.map((e,a)=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:e,alt:"\xd6nizleme ".concat(a+1),className:"w-full h-24 object-cover rounded-lg opacity-50"}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-white bg-black bg-opacity-60 rounded-lg",children:"Resmi tekrar se\xe7in"})]},a))}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"terms",type:"checkbox",checked:L,onChange:e=>R(e.target.checked),className:"rounded border-gray-300 text-alo-orange focus:ring-alo-orange"}),(0,l.jsxs)("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-700",children:[(0,l.jsx)("a",{href:"/kullanim-kosullari",className:"text-alo-orange hover:underline",children:"Kullanım koşullarını"})," kabul ediyorum"]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>{var e,a,t;console.log("formData:",S);let l=K.find(e=>e.id===S.category),r=!!(null==l||null==(e=l.subCategories)?void 0:e.length);if(!S.title.trim()||!S.description.trim()||!S.price||isNaN(Number(S.price))||0>=Number(S.price)||!S.category.trim()||r&&(!S.subcategory||!S.subcategory.trim())||!S.condition.trim()||!S.location.trim())return void alert("\xd6nizleme i\xe7in l\xfctfen t\xfcm mecburi alanları doldurun.");let s=z.map(e=>URL.createObjectURL(e)),i=new URLSearchParams({title:S.title,description:S.description,price:S.price,category:S.category,subcategory:S.subcategory,condition:S.condition,location:S.location,contactPhone:S.phone,phoneVisibility:S.phoneVisibility,contactEmail:(null==v||null==(a=v.user)?void 0:a.email)||"",sellerName:(null==v||null==(t=v.user)?void 0:t.name)||"",images:JSON.stringify(s)});k.push("/ilan-onizleme?".concat(i.toString()))},className:"px-6 py-3 border border-alo-orange text-alo-orange rounded-md hover:bg-orange-50 transition-colors flex items-center gap-2 font-medium",children:[(0,l.jsx)(g.A,{className:"w-4 h-4"}),"\xd6nizle"]}),(0,l.jsx)("button",{type:"button",onClick:X,disabled:D,className:"px-8 py-3 bg-alo-orange text-white rounded-md hover:bg-orange-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:D?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Yayınlanıyor..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.A,{className:"w-4 h-4"}),"İlanı Yayınla"]})})]})]})})}),(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Premium Planlar"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"İlanınızı daha fazla kişiye ulaştırmak i\xe7in premium plan se\xe7in"}),(0,l.jsxs)("div",{className:"border rounded-lg p-4 mb-4 cursor-pointer transition-all ".concat("free"===T?"border-alo-orange bg-orange-50":"border-gray-200 hover:border-gray-300"),onClick:()=>I("free"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("h3",{className:"font-semibold",children:"\xdccretsiz Plan"}),(0,l.jsx)("span",{className:"text-2xl font-bold text-green-600",children:"0₺"})]}),(0,l.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),"30 g\xfcn \xfccretsiz premium"]}),(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),"Maksimum 5 resim"]}),(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),"Temel \xf6zellikler"]})]})]}),Object.entries(U).map(e=>{let[a,t]=e;return(0,l.jsxs)("div",{className:"border rounded-lg p-4 mb-4 cursor-pointer transition-all ".concat(T===a?"border-alo-orange bg-orange-50":"border-gray-200 hover:border-gray-300"),onClick:()=>I(a),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("h3",{className:"font-semibold",children:t.name}),(0,l.jsxs)("span",{className:"text-2xl font-bold text-alo-orange",children:[t.price,"₺"]})]}),(0,l.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),t.days," g\xfcn premium"]}),(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),"Maksimum 5 resim"]}),(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),"\xd6ne \xe7ıkan rozet"]}),(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),"\xd6ncelikli sıralama"]})]})]},a)}),"free"!==T&&(0,l.jsx)("div",{className:"border-t pt-4 mt-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Toplam:"}),(0,l.jsxs)("span",{className:"text-xl font-bold text-alo-orange",children:[W(),"₺"]})]})}),(0,l.jsx)("div",{className:"mt-6 bg-blue-50 p-4 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)(p.A,{className:"w-5 h-5 text-blue-500 mr-2 mt-0.5"}),(0,l.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,l.jsx)("p",{className:"font-medium mb-1",children:"Premium Avantajları:"}),(0,l.jsxs)("ul",{className:"space-y-1",children:[(0,l.jsx)("li",{children:"• İlanınız \xf6ne \xe7ıkarılır"}),(0,l.jsx)("li",{children:"• Daha fazla g\xf6r\xfcnt\xfclenme"}),(0,l.jsx)("li",{children:"• \xd6ncelikli sıralama"}),(0,l.jsx)("li",{children:"• Premium rozet"})]})]})]})})]})})]})]})})}},29869:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},33109:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},35695:(e,a,t)=>{"use strict";var l=t(18999);t.o(l,"useParams")&&t.d(a,{useParams:function(){return l.useParams}}),t.o(l,"usePathname")&&t.d(a,{usePathname:function(){return l.usePathname}}),t.o(l,"useRouter")&&t.d(a,{useRouter:function(){return l.useRouter}}),t.o(l,"useSearchParams")&&t.d(a,{useSearchParams:function(){return l.useSearchParams}})},38564:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},40646:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},53311:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},53597:(e,a,t)=>{Promise.resolve().then(t.bind(t,23571))},54416:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},59434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>s,sT:()=>i});var l=t(52596),r=t(39688);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,l.$)(a))}async function i(){return{"30days":{name:"30 G\xfcn",price:99,days:30},"90days":{name:"90 G\xfcn",price:249,days:90},"365days":{name:"365 G\xfcn",price:799,days:365}}}},81284:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},92657:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(90602).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[1582,8441,1684,7358],()=>a(53597)),_N_E=e.O()}]);