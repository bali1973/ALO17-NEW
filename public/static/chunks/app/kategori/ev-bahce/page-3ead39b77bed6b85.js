(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4533],{18676:(e,a,l)=>{Promise.resolve().then(l.bind(l,87043))},20040:(e,a,l)=>{"use strict";l.d(a,{e:()=>s});let s=[]},22732:(e,a,l)=>{"use strict";l.d(a,{C:()=>t,j:()=>i});var s=l(12115);let r="categories-updated",t=()=>{localStorage.setItem("categories-last-updated",Date.now().toString()),window.dispatchEvent(new CustomEvent(r))};function i(){let[e,a]=(0,s.useState)([]),[l,t]=(0,s.useState)(!0),[i,n]=(0,s.useState)(null),[c,d]=(0,s.useState)(0),o=async()=>{try{t(!0),n(null);let e=await fetch("/api/categories");if(e.ok){let l=await e.json();a(l),t(!1);return}let l=await fetch("/categories.json");if(l.ok){let e=await l.json();a(e),t(!1);return}throw Error("Kategoriler y\xfcklenemedi")}catch(e){console.error("Kategoriler y\xfcklenirken hata:",e),n("Kategoriler y\xfcklenemedi"),t(!1)}};return(0,s.useEffect)(()=>{o();let e=()=>{console.log("Kategori g\xfcncelleme eventi alındı, kategoriler yenileniyor..."),o()},a=e=>{if("categories-last-updated"===e.key){let a=parseInt(e.newValue||"0");a>c&&(console.log("LocalStorage kategori g\xfcncellemesi algılandı"),d(a),o())}};return window.addEventListener(r,e),window.addEventListener("storage",a),()=>{window.removeEventListener(r,e),window.removeEventListener("storage",a)}},[c]),{categories:e,loading:l,error:i,refetch:o}}},87043:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>o});var s=l(95155),r=l(6874),t=l.n(r),i=l(12115),n=l(20040),c=l(68801),d=l(22732);function o(){let[e,a]=(0,i.useState)(null),[l,r]=(0,i.useState)(null),[o,u]=(0,i.useState)(null),{categories:m,loading:h,error:g}=(0,d.j)(),x=m.find(e=>"ev-bahce"===e.slug),v=n.e.filter(e=>"ev-bahce"===e.category).filter(e=>{if(o&&e.condition!==o)return!1;if(l){let a=parseInt(e.price.replace(/[^0-9]/g,""));switch(l){case"0-5000":if(a>5e3)return!1;break;case"5000-10000":if(a<5e3||a>1e4)return!1;break;case"10000-20000":if(a<1e4||a>2e4)return!1;break;case"20000+":if(a<2e4)return!1}}return!0});return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Ev ve Bah\xe7e"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Ev ve bah\xe7e \xfcr\xfcnleri"})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,s.jsx)("div",{className:"w-full md:w-64 flex-shrink-0",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Kategoriler"}),h?(0,s.jsx)("div",{children:"Kategoriler y\xfckleniyor..."}):g?(0,s.jsx)("div",{className:"text-red-600",children:g}):x&&x.subCategories&&x.subCategories.length>0?(0,s.jsx)("div",{className:"space-y-2",children:x.subCategories.map(l=>(0,s.jsx)(t(),{href:"/kategori/ev-bahce/".concat(l.slug),onClick:()=>a(l.slug),className:"block px-3 py-2 rounded-md hover:bg-gray-100 ".concat(e===l.slug?"bg-gray-100 font-medium":""),children:l.name},l.id))}):(0,s.jsx)("div",{children:"Alt kategori bulunamadı."})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Fiyat Aralığı"}),(0,s.jsx)("div",{className:"space-y-2",children:[{value:"0-5000",label:"0 - 5.000 TL"},{value:"5000-10000",label:"5.000 - 10.000 TL"},{value:"10000-20000",label:"10.000 - 20.000 TL"},{value:"20000+",label:"20.000 TL ve \xfczeri"}].map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"mr-2",checked:l===e.value,onChange:()=>r(l===e.value?null:e.value)}),(0,s.jsx)("span",{children:e.label})]},e.value))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Durum"}),(0,s.jsx)("div",{className:"space-y-2",children:["Yeni","İkinci El"].map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"mr-2",checked:o===e,onChange:()=>u(o===e?null:e)}),(0,s.jsx)("span",{children:e})]},e))})]})]})}),(0,s.jsxs)("div",{className:"flex-1 space-y-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"text-gray-600",children:[v.length," ilan bulundu"]}),(0,s.jsxs)("select",{className:"border rounded-md p-2","aria-label":"Sıralama se\xe7enekleri",children:[(0,s.jsx)("option",{value:"newest",children:"En Yeni"}),(0,s.jsx)("option",{value:"price-asc",children:"Fiyat (D\xfcş\xfckten Y\xfckseğe)"}),(0,s.jsx)("option",{value:"price-desc",children:"Fiyat (Y\xfcksekten D\xfcş\xfcğe)"})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>(0,s.jsx)(c.l,{listing:e},e.id))}),0===v.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"İlan Bulunamadı"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Se\xe7tiğiniz kriterlere uygun ilan bulunamadı. L\xfctfen filtreleri değiştirerek tekrar deneyin."})]})]})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[6874,9194,6766,8801,8441,1684,7358],()=>a(18676)),_N_E=e.O()}]);